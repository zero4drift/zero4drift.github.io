<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SICP-Refresher-Chapter-2(1) - 找一个吃麦旋风的理由</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="zero4drift" />
  <meta name="description" content="第二章 本章将重点转到各种程序设计语言都包含的另一个关键方面：讨论它们所提供的，将 数据对象组合起来，形成 复合数据 的方式； 复合数据和复合过程一样" />

  <meta name="keywords" content="代码, 算法, 工具" />






<meta name="generator" content="Hugo 0.48" />


<link rel="canonical" href="https://zero4drift.github.io/posts/sicp-refresher-chapter-21/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.28854364c052ec02eba4ee5867bc889d3a567cdf337ba3a355c33511d20bee1e.css" integrity="sha256-KIVDZMBS7ALrpO5YZ7yInTpWfN8ze6OjVcM1EdIL7h4=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="SICP-Refresher-Chapter-2(1)" />
<meta property="og:description" content="第二章 本章将重点转到各种程序设计语言都包含的另一个关键方面：讨论它们所提供的，将 数据对象组合起来，形成 复合数据 的方式； 复合数据和复合过程一样" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zero4drift.github.io/posts/sicp-refresher-chapter-21/" /><meta property="article:published_time" content="2018-12-18T14:08:00&#43;08:00"/>
<meta property="article:modified_time" content="2019-01-14T22:23:26&#43;08:00"/>
<meta itemprop="name" content="SICP-Refresher-Chapter-2(1)">
<meta itemprop="description" content="第二章 本章将重点转到各种程序设计语言都包含的另一个关键方面：讨论它们所提供的，将 数据对象组合起来，形成 复合数据 的方式； 复合数据和复合过程一样">


<meta itemprop="datePublished" content="2018-12-18T14:08:00&#43;08:00" />
<meta itemprop="dateModified" content="2018-12-18T14:08:00&#43;08:00" />
<meta itemprop="wordCount" content="2443">



<meta itemprop="keywords" content="SICP,Scheme," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SICP-Refresher-Chapter-2(1)"/>
<meta name="twitter:description" content="第二章 本章将重点转到各种程序设计语言都包含的另一个关键方面：讨论它们所提供的，将 数据对象组合起来，形成 复合数据 的方式； 复合数据和复合过程一样"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112733609-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">找一个吃麦旋风的理由</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/post/">存档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/categories/">分类</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      找一个吃麦旋风的理由
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/post/">存档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://zero4drift.github.io/categories/">分类</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">SICP-Refresher-Chapter-2(1)</h1>
      
      <div class="post-meta">
        <time datetime="2018-12-18" class="post-time">
          2018-12-18
        </time>
        <div class="post-category">
            <a href="https://zero4drift.github.io/categories/sicp/"> SICP </a>
            
          </div>
        

        
        
          <span id="busuanzi_container_page_pv">
            | 阅读 <span id="busuanzi_value_page_pv"></span>
          </span>
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#第二章">第二章</a>
<ul>
<li><a href="#数据抽象导引">数据抽象导引</a>
<ul>
<li><a href="#实例-有理数的算术运算">实例：有理数的算术运算</a></li>
<li><a href="#练习-2-dot-1">练习 2.1</a></li>
<li><a href="#抽象屏障">抽象屏障</a></li>
<li><a href="#练习-2-dot-2-2-dot-3">练习 2.2-2.3</a></li>
<li><a href="#数据意味着什么">数据意味着什么</a></li>
<li><a href="#练习-2-dot-4-2-dot-6">练习 2.4-2.6</a></li>
<li><a href="#扩展练习-区间算术">扩展练习：区间算术</a></li>
<li><a href="#练习-2-dot-7-2-dot-16">练习 2.7-2.16</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h2 id="第二章">第二章</h2>

<ol>
<li>本章将重点转到各种程序设计语言都包含的另一个关键方面：讨论它们所提供的，将
数据对象组合起来，形成 <strong>复合数据</strong> 的方式；</li>
<li>复合数据和复合过程一样，是为了提升我们在设计程序时所位于的概念层次，提高设
计的模块性，增强语言的表达能力；</li>
<li>复合数据使我们得以在比语言提供的基本数据对象更高的概念层次上，处理与数据有
关的各种问题；</li>
<li>将程序中处理数据对象的表示的部分，与处理数据对象的使用的部分相互隔离的技术
非常具有一般性，形成了一种称为 <strong>数据抽象</strong> 的强有力的设计方法学，数据抽象技
术能使程序更容易设计，维护和修改；</li>
<li>形成复合数据的关键在于，程序设计语言里应该提供了某种“黏合剂”，它们可以用于
把一些数据对象组合起来，形成更复杂的数据对象；</li>
<li>处理复合数据中的关键性思想 - <strong>闭包</strong> 概念：用于组合数据对象的黏合剂不但能用
于组合基本的数据对象，同样也可以用于复合的数据对象；另一关键思想是：复合数
据对象能够成为以 <strong>混合和匹配</strong> 的方式组合的程序模块的 <strong>界面</strong>;</li>
<li>符号表达式进一步扩大语言的表述能力，将探索表示对象集合的不同方式：对于一种
给定的数据结构，可以有许多方式将其表示为简单对象的组合，而不同的表示有可能
对操作这些数据的计算过程的时间与空间需求造成重大的影响；</li>
<li>通用型操作的出现，将要求比只有简单数据抽象更强大的抽象屏障，引出 <strong>数据导向
的程序设计</strong> 允许我们孤立地设计每一种数据表示，而后用添加的方式将它们组合进去。</li>
</ol>

<h3 id="数据抽象导引">数据抽象导引</h3>

<ol>
<li><strong>数据抽象</strong> 的基本思想，就是设法构造出一些使用复合数据对象的程序，使用它们
就像是在“抽象数据”上操作一样；</li>
<li>“具体数据”表示的定义（如何表示），与程序种使用数据的方式（如何使用），这样
的两个部分之间的界面（接口）将是一组过程，称为 <strong>选择函数</strong> 和 <strong>构造函数</strong>,
它们在具体表示之上实现抽象的数据。</li>
</ol>

<h4 id="实例-有理数的算术运算">实例：有理数的算术运算</h4>

<ol>
<li><strong>按愿望思维</strong> 的强有力的综合策略（翻译太概括了，就是先形式上整理出可以满足
要求的抽象接口但并不实现它们，如果在这些接口上可以实现预先的编程设计，接
下来再实现这些接口）；</li>
<li>通过过程 cons, car 和 cdr 实现的这样一种最基本的复合数据， <strong>序对</strong> ，可以
用作构造任意种类的复杂数据结构的通用的基本构件；</li>
<li>从序对构造起来的数据对象称为 <strong>表结构</strong> 数据；</li>
</ol>

<h4 id="练习-2-dot-1">练习 2.1</h4>

<ul>
<li><p>2.1</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">gcd</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nv">=</span> <span class="nv">b</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nv">a</span>
      <span class="p">(</span><span class="nv">gcd</span> <span class="nv">b</span> <span class="p">(</span><span class="nv">remainder</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-rat-better</span> <span class="nv">n</span> <span class="nv">d</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">g</span> <span class="p">(</span><span class="nv">gcd</span> <span class="nv">n</span> <span class="nv">d</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="nv">&lt;</span> <span class="p">(</span><span class="nv">/</span> <span class="nv">n</span> <span class="nv">d</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nv">cons</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">abs</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">g</span><span class="p">))</span> <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">abs</span> <span class="nv">d</span><span class="p">)</span> <span class="nv">g</span><span class="p">)))</span>
      <span class="p">(</span><span class="k">else </span><span class="p">(</span> <span class="nv">cons</span> <span class="p">(</span><span class="nv">/</span> <span class="nv">n</span> <span class="nv">g</span><span class="p">)</span> <span class="p">(</span><span class="nv">/</span> <span class="nv">d</span> <span class="nv">g</span><span class="p">))))))</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h4 id="抽象屏障">抽象屏障</h4>

<ol>
<li>继续深入数据抽象的基本思想：为每一类数据对象标识出一组操作，使得对这类数
据对象的所有操作都可以基于这些操作来表述，而且在操作这些数据对象时也只使
用它们（隔离）；</li>
<li>抽象屏障隔离了系统中不同的层次，在每一层上，这种屏障都把使用数据抽象的程
序（上面）与实现数据抽象的程序（下面）分开来，每一层次中的过程构成了所定
义的抽象屏障的接口；</li>
<li>在设计时将依赖于表示的成分限制到很少的一些程序模块上，这种方法就可以使程
序很容易维护和修改，而且有助于程序的设计，这种做法将使我们能保留 <strong>考虑不
同实现方式</strong> 的灵活性。</li>
</ol>

<h4 id="练习-2-dot-2-2-dot-3">练习 2.2-2.3</h4>

<ul>
<li><p>2.2</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-segment</span> <span class="nv">p1</span> <span class="nv">p2</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cons</span> <span class="nv">p1</span> <span class="nv">p2</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">start-segment</span> <span class="nv">segment</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">car</span> <span class="nv">segment</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">end-segment</span> <span class="nv">segment</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cdr</span> <span class="nv">segment</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-point</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cons</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">x-point</span> <span class="nv">point</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">car</span> <span class="nv">point</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">y-point</span> <span class="nv">point</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cdr</span> <span class="nv">point</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">midpoint-segment</span> <span class="nv">segment</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">start</span> <span class="p">(</span><span class="nv">start-segment</span> <span class="nv">segment</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">end</span> <span class="p">(</span><span class="nv">end-segment</span> <span class="nv">segment</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">make-point</span> <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">+</span> <span class="p">(</span><span class="nv">x-point</span> <span class="nv">start</span><span class="p">)</span> <span class="p">(</span><span class="nv">x-point</span> <span class="nv">end</span><span class="p">))</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">+</span> <span class="p">(</span><span class="nv">y-point</span> <span class="nv">start</span><span class="p">)</span> <span class="p">(</span><span class="nv">y-point</span> <span class="nv">end</span><span class="p">))</span> <span class="mi">2</span><span class="p">))))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.3</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-rectangle</span> <span class="nv">p1</span> <span class="nv">p2</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">p3</span> <span class="p">(</span><span class="nv">make-point</span> <span class="p">(</span><span class="nv">x-point</span> <span class="nv">p1</span><span class="p">)</span> <span class="p">(</span><span class="nv">y-point</span> <span class="nv">p2</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">p4</span> <span class="p">(</span><span class="nv">make-point</span> <span class="p">(</span><span class="nv">x-point</span> <span class="nv">p2</span><span class="p">)</span> <span class="p">(</span><span class="nv">y-point</span> <span class="nv">p1</span><span class="p">))))</span>
    <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">seg1</span> <span class="p">(</span><span class="nv">make-segment</span> <span class="nv">p1</span> <span class="nv">p3</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">seg2</span> <span class="p">(</span><span class="nv">make-segment</span> <span class="nv">p1</span> <span class="nv">p4</span><span class="p">)))</span>
      <span class="p">(</span><span class="nv">cons</span> <span class="nv">seg1</span> <span class="nv">seg2</span><span class="p">))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">width</span> <span class="nv">rectangle</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">width-segment</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">rectangle</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">start</span> <span class="p">(</span><span class="nv">car</span> <span class="nv">width-segment</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">end</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">width-segment</span><span class="p">)))</span>
      <span class="p">(</span><span class="nv">abs</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">x-point</span> <span class="nv">end</span><span class="p">)</span> <span class="p">(</span><span class="nv">x-point</span> <span class="nv">start</span><span class="p">))))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">length</span> <span class="nv">rectangle</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">length-segment</span> <span class="p">(</span><span class="nv">car</span> <span class="nv">rectangle</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">start</span> <span class="p">(</span><span class="nv">car</span> <span class="nv">length-segment</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">end</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">length-segment</span><span class="p">)))</span>
      <span class="p">(</span><span class="nv">abs</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">y-point</span> <span class="nv">end</span><span class="p">)</span> <span class="p">(</span><span class="nv">y-point</span> <span class="nv">start</span><span class="p">))))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">perimeter</span> <span class="nv">rectangle</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">*</span> <span class="mi">2</span>
     <span class="p">(</span><span class="nv">+</span> <span class="p">(</span><span class="nv">width</span> <span class="nv">rectangle</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">length</span> <span class="nv">rectangle</span><span class="p">))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">size</span> <span class="nv">rectangle</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">*</span> <span class="p">(</span><span class="nv">width</span> <span class="nv">rectangle</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">length</span> <span class="nv">rectangle</span><span class="p">)))</span>

<span class="c1">;; anoterh way, no need to modify procedur perimeter and size</span>
<span class="c1">;; add &#34;-another&#34; to names just to avoid interpreter error</span>
<span class="c1">;; remove it when there is a need of test</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-rectangle-another</span> <span class="nv">start</span> <span class="nv">width</span> <span class="nv">length</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cons</span> <span class="nv">start</span> <span class="p">(</span><span class="nv">const</span> <span class="nv">width</span> <span class="nv">length</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">width-another</span> <span class="nv">rectangle</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">car</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">rectangle</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">length-another</span> <span class="nv">rectangle</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cdr</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">rectangle</span><span class="p">)))</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h4 id="数据意味着什么">数据意味着什么</h4>

<ol>
<li>只要满足一组特定条件的约束，总可以将数据定义为一组适当的选择函数和构造函
数，使这一组过程成为该数据的一套合法表示；</li>
<li>可以将过程作为对象去操作，提供了另一种表示复合数据的能力，实际上，数据的
过程性表示相关的程序设计风格通常称为 <strong>消息传递</strong>.</li>
</ol>

<h4 id="练习-2-dot-4-2-dot-6">练习 2.4-2.6</h4>

<ul>
<li><p>2.4</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">cons</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">m</span><span class="p">)</span> <span class="p">(</span><span class="nv">m</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">car</span> <span class="nv">z</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">z</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">p</span> <span class="nv">q</span><span class="p">)</span> <span class="nv">p</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">cdr</span> <span class="nv">z</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">z</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">p</span> <span class="nv">q</span><span class="p">)</span> <span class="nv">q</span><span class="p">)))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.5</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">cons</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">*</span> <span class="p">(</span><span class="nv">expt</span> <span class="mi">2</span> <span class="nv">a</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">expt</span> <span class="mi">3</span> <span class="nv">b</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">get-a-b</span> <span class="nv">z</span> <span class="nv">n</span> <span class="nv">count</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">remain</span> <span class="p">(</span><span class="nv">remainder</span> <span class="nv">z</span> <span class="nv">n</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nv">=</span> <span class="nv">remain</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">get-a-b</span> <span class="p">(</span><span class="nv">/</span> <span class="nv">z</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">n</span> <span class="p">(</span><span class="nv">+</span> <span class="nv">count</span> <span class="mi">1</span><span class="p">))</span>
    <span class="nv">count</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">car</span> <span class="nv">z</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">get-a-b</span> <span class="nv">z</span> <span class="mi">2</span> <span class="mi">0</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">cdr</span> <span class="nv">z</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">get-a-b</span> <span class="nv">z</span> <span class="mi">3</span> <span class="mi">0</span><span class="p">))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.6</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="nv">zero</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">f</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="nv">x</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">add-1</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">f</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">f</span> <span class="p">((</span><span class="nv">n</span> <span class="nv">f</span><span class="p">)</span> <span class="nv">x</span><span class="p">)))))</span>

<span class="p">(</span><span class="k">define </span><span class="nv">one</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">f</span><span class="p">)</span>
    <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span>
      <span class="p">(</span><span class="nv">f</span> <span class="nv">x</span><span class="p">))))</span>

<span class="p">(</span><span class="k">define </span><span class="nv">two</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">f</span><span class="p">)</span>
    <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span>
      <span class="p">(</span><span class="nv">f</span> <span class="p">(</span><span class="nv">f</span> <span class="nv">x</span><span class="p">)))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">+</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">f</span><span class="p">)</span>
    <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span>
      <span class="p">((</span><span class="nv">a</span> <span class="nv">f</span><span class="p">)</span> <span class="p">((</span><span class="nv">b</span> <span class="nv">f</span><span class="p">)</span> <span class="nv">x</span><span class="p">)))))</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h4 id="扩展练习-区间算术">扩展练习：区间算术</h4>

<ol>
<li>无。</li>
</ol>

<h4 id="练习-2-dot-7-2-dot-16">练习 2.7-2.16</h4>

<ul>
<li><p>2.7</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-interval</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">cons</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">z</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">max</span> <span class="p">(</span><span class="nv">car</span> <span class="nv">z</span><span class="p">)</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">z</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">z</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">min</span> <span class="p">(</span><span class="nv">car</span> <span class="nv">z</span><span class="p">)</span> <span class="p">(</span><span class="nv">cdr</span> <span class="nv">z</span><span class="p">)))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.8</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="c1">;; (load &#34;./2.7.scm&#34;)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">sub-interval</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">add-interval</span> <span class="nv">x</span> <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">y</span><span class="p">))</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">y</span><span class="p">)))))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.9</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">interval-width</span> <span class="nv">interval</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">interval</span><span class="p">)</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">interval</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">width-accumulated?</span> <span class="nv">combiner</span> <span class="nv">interval1</span> <span class="nv">interval2</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">width1</span> <span class="p">(</span><span class="nv">interval-width</span> <span class="nv">interval1</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">width2</span> <span class="p">(</span><span class="nv">interval-width</span> <span class="nv">interval2</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">combined-width</span> <span class="p">(</span><span class="nv">interval-width</span> <span class="p">(</span><span class="nv">combiner</span> <span class="nv">interval1</span> <span class="nv">interval2</span><span class="p">))))</span>
   <span class="p">(</span><span class="nv">=</span> <span class="nv">combined-width</span> <span class="p">(</span><span class="nv">+</span> <span class="nv">width1</span> <span class="nv">width2</span><span class="p">))))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.10</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">div-interval</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">upper</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">y</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">lower</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">y</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="k">or </span><span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nv">&lt;</span> <span class="nv">lower</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nv">&gt;</span> <span class="nv">upper</span> <span class="mi">0</span><span class="p">))</span> <span class="p">(</span><span class="nv">=</span> <span class="nv">lower</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nv">=</span> <span class="nv">upper</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">error</span> <span class="s">&#34;the second interval acrossing the zero point&#34;</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">mul-interval</span> <span class="nv">x</span>
              <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">/</span> <span class="mf">1.0</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">y</span><span class="p">))</span>
                     <span class="p">(</span><span class="nv">/</span> <span class="mf">1.0</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">y</span><span class="p">)))))))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.11</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">mul-interval</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
   <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">positive?</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">&gt;=</span> <span class="nv">x</span> <span class="mi">0</span><span class="p">))</span>
   <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">negative?</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">&lt;</span> <span class="nv">x</span> <span class="mi">0</span><span class="p">))</span>
   <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">xl</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">x</span><span class="p">))</span>
     <span class="p">(</span><span class="nv">xu</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">x</span><span class="p">))</span>
     <span class="p">(</span><span class="nv">yl</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">y</span><span class="p">))</span>
     <span class="p">(</span><span class="nv">yu</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">y</span><span class="p">)))</span>
     <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="k">and </span><span class="p">(</span><span class="nv">positive?</span> <span class="nv">xl</span><span class="p">)</span> <span class="p">(</span><span class="nv">positive?</span> <span class="nv">yl</span><span class="p">))</span>
        <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yl</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="nv">yu</span><span class="p">)))</span>
       <span class="p">((</span><span class="k">and </span><span class="p">(</span><span class="nv">positive?</span> <span class="nv">xl</span><span class="p">)</span> <span class="p">(</span><span class="nv">negative?</span> <span class="nv">yl</span><span class="p">))</span>
        <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="nv">yl</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nv">negative?</span> <span class="nv">yu</span><span class="p">)</span> <span class="nv">xl</span> <span class="nv">xu</span><span class="p">)</span> <span class="nv">yu</span><span class="p">)))</span>
       <span class="p">((</span><span class="k">and </span><span class="p">(</span><span class="nv">negative?</span> <span class="nv">xl</span><span class="p">)</span> <span class="p">(</span><span class="nv">positive?</span> <span class="nv">yl</span><span class="p">))</span>
        <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yu</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nv">negative?</span> <span class="nv">xu</span><span class="p">)</span> <span class="nv">yl</span> <span class="nv">yu</span><span class="p">))))</span>
       <span class="p">((</span><span class="k">and </span><span class="p">(</span><span class="nv">positive?</span> <span class="nv">xu</span><span class="p">)</span> <span class="p">(</span><span class="nv">positive?</span> <span class="nv">yu</span><span class="p">))</span>
        <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">l</span> <span class="p">(</span><span class="nv">min</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yu</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="nv">yl</span><span class="p">)))</span>
          <span class="p">(</span><span class="nv">u</span> <span class="p">(</span><span class="nv">max</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yl</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="nv">yu</span><span class="p">))))</span>
          <span class="p">(</span><span class="nv">make-interval</span> <span class="nv">l</span> <span class="nv">u</span><span class="p">)))</span>
       <span class="p">((</span><span class="k">and </span><span class="p">(</span><span class="nv">positive?</span> <span class="nv">xu</span><span class="p">)</span> <span class="p">(</span><span class="nv">negative?</span> <span class="nv">yu</span><span class="p">))</span>
        <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="nv">yl</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yl</span><span class="p">)))</span>
       <span class="p">((</span><span class="k">and </span><span class="p">(</span><span class="nv">negative?</span> <span class="nv">xu</span><span class="p">)</span> <span class="p">(</span><span class="nv">positive?</span> <span class="nv">yu</span><span class="p">))</span>
        <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yu</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yl</span><span class="p">)))</span>
       <span class="p">(</span><span class="nv">else</span>
        <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xu</span> <span class="nv">yu</span><span class="p">)</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">xl</span> <span class="nv">yl</span><span class="p">))))))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.12</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">make-cent-percent</span> <span class="nv">c</span> <span class="nv">p</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">w</span> <span class="p">(</span><span class="nv">*</span> <span class="nv">c</span> <span class="nv">p</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">make-interval</span> <span class="p">(</span><span class="nv">-</span> <span class="nv">c</span> <span class="nv">w</span><span class="p">)</span> <span class="p">(</span><span class="nv">+</span> <span class="nv">c</span> <span class="nv">w</span><span class="p">))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">center</span> <span class="nv">i</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">+</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">i</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">width</span> <span class="nv">i</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">upper-bound</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nv">lower-bound</span> <span class="nv">i</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">percent</span> <span class="nv">i</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">/</span> <span class="p">(</span><span class="nv">width</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nv">center</span> <span class="nv">i</span><span class="p">)))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.13</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">percent-accumulated?</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">px</span> <span class="p">(</span><span class="nv">percent</span> <span class="nv">x</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">py</span> <span class="p">(</span><span class="nv">percent</span> <span class="nv">y</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">pr</span> <span class="p">(</span><span class="nv">percent</span> <span class="p">(</span><span class="nv">mul-interval</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))))</span>
    <span class="p">(</span><span class="nv">=</span> <span class="nv">pr</span> <span class="p">(</span><span class="nv">percent-accumulated</span> <span class="nv">px</span> <span class="nv">py</span><span class="p">))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">percent-accumulated</span> <span class="nv">p1</span> <span class="nv">p2</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">/</span> <span class="mi">1</span> <span class="p">(</span><span class="nv">abs</span> <span class="p">(</span><span class="nv">-</span> <span class="p">(</span><span class="nv">/</span> <span class="mi">1</span> <span class="nv">p1</span><span class="p">)</span> <span class="p">(</span><span class="nv">/</span> <span class="mi">1</span> <span class="nv">p2</span><span class="p">)))))</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.14</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">part1</span> <span class="nv">r1</span> <span class="nv">r2</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">div-interval</span> <span class="p">(</span><span class="nv">mul-interval</span> <span class="nv">r1</span> <span class="nv">r2</span><span class="p">)</span>
        <span class="p">(</span><span class="nv">add-interval</span> <span class="nv">r1</span> <span class="nv">r2</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nv">part2</span> <span class="nv">r1</span> <span class="nv">r2</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nv">one</span> <span class="p">(</span><span class="nv">make-interval</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">div-interval</span> <span class="nv">one</span>
          <span class="p">(</span><span class="nv">add-interval</span> <span class="p">(</span><span class="nv">div-interval</span> <span class="nv">one</span> <span class="nv">r1</span><span class="p">)</span>
                <span class="p">(</span><span class="nv">div-interval</span> <span class="nv">one</span> <span class="nv">r2</span><span class="p">)))))</span>

<span class="c1">;; when procedure make-cent-percent and a very small amount percent are applied to construct a interval,</span>
<span class="c1">;; the results of both procedures defined before applied to such intervals are approaching the same.</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.15</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="c1">;; 测试 execise 2.14 的过程可以证明了这个观点，</span>
<span class="c1">;; 使用带有更少非确定性的变量的公式实现的过程可以输出更精确的结果。</span></code></pre></td></tr></table>
</div>
</div></li>

<li><p>2.16</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-scheme" data-lang="scheme"><span class="c1">;; 一句话：不确定度的累积</span>

<span class="c1">;; 对表示范围的区间进行操作可能会使区间的范围继续扩张；</span>
<span class="c1">;; 等式中区间的个数越多，区间自带的不确定性相互影响，</span>
<span class="c1">;; 最终结果的范围扩张程度就越大；</span>
<span class="c1">;; 所以是根据第二个公式实现的过程的输出结果相比起来更加精确一些；</span>

<span class="c1">;; 没实现一个无缺陷的区间算术包。</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">zero4drift</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">2019-01-14</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://zero4drift.github.io/tags/sicp/">SICP</a>
          <a href="https://zero4drift.github.io/tags/scheme/">Scheme</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/posts/sicp-refresher-chapter-22/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">SICP-Refresher-Chapter-2(2)</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/posts/sicp-refresher-chapter-13/">
            <span class="next-text nav-default">SICP-Refresher-Chapter-1(3)</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "zero4drift/comments-for-my-blog"
            issue-term="pathname"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  
  
    



        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  
  
    <a href="fang0052@e.ntu.edu.sg" rel="me noopener" class="iconfont"
      title="email"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/zero4drift" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>


<a href="https://zero4drift.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        zero4drift
        
      </span></span>

  
  
    <span id="busuanzi_container">
      访客数/访问量：<span id="busuanzi_value_site_uv"></span>/<span id="busuanzi_value_site_pv"></span>
    </span>
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>

  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>





  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  




  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>










</body>
</html>
