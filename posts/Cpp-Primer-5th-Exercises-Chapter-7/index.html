<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Cpp Primer 5th answers chapter-7 Exercises">
<meta name="viewport" content="width=device-width">
<title>Cpp-Primer-5th-Exercises-Chapter-7 | 钉钉是世界上最傻逼的app</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://zero4drift.github.io/posts/Cpp-Primer-5th-Exercises-Chapter-7/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="zero4drift">
<meta property="og:site_name" content="钉钉是世界上最傻逼的app">
<meta property="og:title" content="Cpp-Primer-5th-Exercises-Chapter-7">
<meta property="og:url" content="https://zero4drift.github.io/posts/Cpp-Primer-5th-Exercises-Chapter-7/">
<meta property="og:description" content="Cpp Primer 5th answers chapter-7 Exercises">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-05-19T18:22:45+08:00">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="cpp-primer">
</head>
<body>
    

    <header id="header" class="navbar"><div class="container">
            
    <div class="brand">

        <div class="brand-text">
            <a href="https://zero4drift.github.io/" title="钉钉是世界上最傻逼的app" rel="home">
                钉钉是世界上最傻逼的app
            </a>
        </div>

        <a id="btn-toggle-nav" class="navbar-toggle">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
    </div>

            
    <nav class="navbar-collapse collapse"><ul class="nav">
<li><a href="../../archive.html">Archive</a></li>
                <li><a href="https://github.com/zero4drift">Github</a></li>
                <li><a href="../../categories/">Tags</a></li>
                <li><a href="../../rss.xml">RSS feed</a></li>
    
    
    </ul></nav>
</div>
    </header><div class="header-padding"> </div>

    
    <div class="post-header">
        <div class="container">
            <div class="title">
                Cpp-Primer-5th-Exercises-Chapter-7
            </div>
        </div>
    </div>

    <div class="post-meta">
      <div class="container">
	<div class="meta clearfix">
	  <div class="authordate">
	    <time class="timeago" datetime="2018-05-19T18:22:45+08:00">2018/05/19</time>
</div>
	  <div class="post-tags">
	    <div class="tag">
	      <a href="../../categories/c%2B%2B/" rel="tag">C++</a>
	    </div>
	    <div class="tag">
	      <a href="../../categories/cpp-primer/" rel="tag">cpp-primer</a>
	    </div>
	  </div>
	</div>
      </div>
    </div>
    
    
    <div id="post-main" class="main">
        <div class="container">
        <div id="outline-container-org71ed241" class="outline-2">
<h2 id="org71ed241">Exercise 7.1</h2>
<div class="outline-text-2" id="text-org71ed241">
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Sales_data</span>
<span class="p">{</span>
  <span class="n">string</span> <span class="n">bookNo</span><span class="p">;</span>
  <span class="kt">unsigned</span> <span class="n">units_sold</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">revenue</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">item1</span><span class="p">,</span> <span class="n">item2</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&gt;&gt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&gt;&gt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">item2</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&gt;&gt;</span> <span class="n">item2</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&gt;&gt;</span> <span class="n">item2</span><span class="p">.</span><span class="n">revenue</span><span class="p">)</span>
      <span class="p">{</span>
	<span class="c1">// don't worry, Sales_item item is initialized when created</span>
	<span class="k">if</span><span class="p">(</span><span class="n">item1</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">==</span> <span class="n">item2</span><span class="p">.</span><span class="n">bookNo</span><span class="p">)</span>
	  <span class="p">{</span>
	    <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">+=</span> <span class="n">item2</span><span class="p">.</span><span class="n">units_sold</span><span class="p">;</span>
	    <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span> <span class="o">+=</span> <span class="n">item2</span><span class="p">.</span><span class="n">revenue</span><span class="p">;</span> 
	  <span class="p">}</span>
	<span class="k">else</span>
	  <span class="p">{</span>
	    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span>
		 <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	    <span class="n">item1</span> <span class="o">=</span> <span class="n">item2</span><span class="p">;</span>
	  <span class="p">}</span>
      <span class="p">}</span>
      <span class="c1">// the last one</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span>
	 <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"No data?"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org55eebfb" class="outline-2">
<h2 id="org55eebfb">Exercise 7.2</h2>
<div class="outline-text-2" id="text-org55eebfb">
<div class="highlight"><pre><span></span><span class="c1">// See Sales_data.h</span>
</pre></div>
</div>
</div>

<div id="outline-container-org787c97b" class="outline-2">
<h2 id="org787c97b">Sales_data.h</h2>
<div class="outline-text-2" id="text-org787c97b">
<div class="highlight"><pre><span></span><span class="cp">#ifndef SALES_DATA_H</span>
<span class="cp">#define SALES_DATA_H</span>
<span class="k">struct</span> <span class="n">Sales_data</span><span class="p">;</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item</span><span class="p">);</span>
<span class="n">ostream</span> <span class="o">&amp;</span><span class="n">print</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item</span><span class="p">);</span>
<span class="n">Sales_data</span> <span class="nf">add</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item2</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">Sales_data</span> <span class="p">{</span>
  <span class="k">friend</span> <span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="p">,</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="p">);</span> 
  <span class="k">friend</span> <span class="n">ostream</span> <span class="o">&amp;</span><span class="n">print</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="p">);</span>
  <span class="k">friend</span> <span class="n">Sales_data</span> <span class="nf">add</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item2</span><span class="p">);</span>
<span class="k">public</span><span class="o">:</span>
  <span class="c1">// Sales_data(): bookNo(""), units_sold(0), revenue(0) {}</span>
  <span class="c1">// Exercise 7.14 above has misleading due to the CN version.</span>
  <span class="c1">// It's ok to use the in-class initializer values.</span>
<span class="n">Sales_data</span><span class="p">()</span><span class="o">:</span> <span class="n">Sales_data</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">{</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" Default"</span><span class="p">;};</span>
<span class="n">Sales_data</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span><span class="o">:</span> <span class="n">Sales_data</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="p">{</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" With string argument"</span><span class="p">;}</span>
<span class="n">Sales_data</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">n</span><span class="p">,</span> <span class="kt">double</span> <span class="n">p</span><span class="p">)</span><span class="o">:</span>
  <span class="n">bookNo</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="n">units_sold</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">revenue</span><span class="p">(</span><span class="n">p</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
  <span class="p">{</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" With three arguments"</span><span class="p">;}</span>
<span class="n">Sales_data</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">)</span><span class="o">:</span> <span class="n">Sales_data</span><span class="p">()</span>
  <span class="p">{</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" With istream argument"</span><span class="p">;</span> <span class="n">read</span><span class="p">(</span><span class="n">is</span><span class="p">,</span> <span class="o">*</span><span class="k">this</span><span class="p">);}</span>
  <span class="n">string</span> <span class="n">isbn</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">bookNo</span><span class="p">;}</span>
  <span class="n">Sales_data</span><span class="o">&amp;</span> <span class="n">combine</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span><span class="o">&amp;</span><span class="p">);</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">double</span> <span class="n">avg_price</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">bookNo</span><span class="p">;</span>
  <span class="kt">unsigned</span> <span class="n">units_sold</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">revenue</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgb7a6081" class="outline-2">
<h2 id="orgb7a6081">Exercise 7.3</h2>
<div class="outline-text-2" id="text-orgb7a6081">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">item1</span><span class="p">,</span> <span class="n">item2</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&gt;&gt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&gt;&gt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">item2</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&gt;&gt;</span> <span class="n">item2</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&gt;&gt;</span> <span class="n">item2</span><span class="p">.</span><span class="n">revenue</span><span class="p">)</span>
      <span class="p">{</span>
	<span class="c1">// don't worry, Sales_item item is initialized when created</span>
	<span class="k">if</span><span class="p">(</span><span class="n">item1</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span> <span class="o">==</span> <span class="n">item2</span><span class="p">.</span><span class="n">isbn</span><span class="p">())</span>
	  <span class="n">item1</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">item2</span><span class="p">);</span>
	<span class="k">else</span>
	  <span class="p">{</span>
	    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	    <span class="n">item1</span> <span class="o">=</span> <span class="n">item2</span><span class="p">;</span>
	  <span class="p">}</span>
      <span class="p">}</span>
      <span class="c1">// the last one</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item1</span><span class="p">.</span><span class="n">revenue</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"No data?"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org8cd3a9a" class="outline-2">
<h2 id="org8cd3a9a">Exercise 7.4</h2>
<div class="outline-text-2" id="text-org8cd3a9a">
<div class="highlight"><pre><span></span><span class="c1">// See Person.h</span>
</pre></div>
</div>
</div>

<div id="outline-container-org589cba0" class="outline-2">
<h2 id="org589cba0">Person.h</h2>
<div class="outline-text-2" id="text-org589cba0">
<div class="highlight"><pre><span></span><span class="cp">#ifndef PERSON_H</span>
<span class="cp">#define PERSON_H</span>
<span class="k">struct</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="k">friend</span> <span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="p">,</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="p">);</span>
<span class="k">public</span><span class="o">:</span>				<span class="cm">/* These member functions and constructors are nececssary to be accessibile to users, they're interfaces of this class */</span>
  <span class="n">string</span> <span class="n">get_name</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">name</span><span class="p">;}</span>
  <span class="n">string</span> <span class="n">get_address</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">address</span><span class="p">;}</span>
  <span class="cm">/*</span>
<span class="cm">   * shuld be const member functions</span>
<span class="cm">   * which makes them more flexible</span>
<span class="cm">   * for both functions just return but not modify the member of a object</span>
<span class="cm">   * and const object of Person type could also be able to call this kind of functions</span>
<span class="cm">   */</span>
  <span class="n">Person</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
<span class="k">explicit</span> <span class="nf">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span><span class="o">:</span> <span class="n">name</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">{}</span>
<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s2</span><span class="p">)</span><span class="o">:</span>
  <span class="n">name</span><span class="p">(</span><span class="n">s1</span><span class="p">),</span> <span class="n">address</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">Person</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="p">);</span>
<span class="k">private</span><span class="o">:</span>			<span class="cm">/* data members of class shoud not be accessed directly */</span>
  <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">address</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">);</span>
<span class="n">ostream</span> <span class="o">&amp;</span><span class="n">print</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">,</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">);</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>

<div id="outline-container-org427df82" class="outline-2">
<h2 id="org427df82">Exercise 7.5</h2>
<div class="outline-text-2" id="text-org427df82">
<div class="highlight"><pre><span></span><span class="cp">#ifndef PERSON_H</span>
<span class="cp">#define PERSON_H</span>
<span class="k">struct</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">get_name</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">name</span><span class="p">;}</span>
  <span class="n">string</span> <span class="n">get_address</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">address</span><span class="p">;}</span>
  <span class="cm">/*</span>
<span class="cm">   * shuld be const member functions</span>
<span class="cm">   * which makes them more flexible</span>
<span class="cm">   * for both functions just return but not modify the member of a object</span>
<span class="cm">   * and const object of Person type could also be able to call this kind of functions</span>
<span class="cm">   */</span> 
  <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">address</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>

<div id="outline-container-org4c59998" class="outline-2">
<h2 id="org4c59998">Exercise 7.6</h2>
<div class="outline-text-2" id="text-org4c59998">
<div class="highlight"><pre><span></span><span class="c1">// See Sales_data.h and Sales_data.cpp</span>
</pre></div>

<p>
<a href="#org787c97b">Sales_data.h</a>
</p>
</div>
</div>

<div id="outline-container-orgd428028" class="outline-2">
<h2 id="orgd428028">Sales_data.cpp</h2>
<div class="outline-text-2" id="text-orgd428028">
<div class="highlight"><pre><span></span><span class="n">Sales_data</span><span class="o">&amp;</span> <span class="n">Sales_data</span><span class="o">::</span><span class="n">combine</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">units_sold</span> <span class="o">+=</span> <span class="n">rhs</span><span class="p">.</span><span class="n">units_sold</span><span class="p">;</span>
  <span class="n">revenue</span> <span class="o">+=</span> <span class="n">rhs</span><span class="p">.</span><span class="n">revenue</span><span class="p">;</span>
  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="kt">double</span> <span class="n">Sales_data</span><span class="o">::</span><span class="n">avg_price</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">units_sold</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">revenue</span><span class="o">/</span><span class="n">units_sold</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">double</span> <span class="n">price</span><span class="p">;</span>
  <span class="n">is</span> <span class="o">&gt;&gt;</span> <span class="n">item</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&gt;&gt;</span> <span class="n">item</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&gt;&gt;</span> <span class="n">price</span><span class="p">;</span>
  <span class="n">item</span><span class="p">.</span><span class="n">revenue</span> <span class="o">=</span> <span class="n">price</span> <span class="o">*</span> <span class="n">item</span><span class="p">.</span><span class="n">units_sold</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">is</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">ostream</span> <span class="o">&amp;</span><span class="n">print</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">item</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item</span><span class="p">.</span><span class="n">revenue</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">item</span><span class="p">.</span><span class="n">avg_price</span><span class="p">();</span>
  <span class="k">return</span> <span class="n">os</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Sales_data</span> <span class="n">add</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">result</span> <span class="o">=</span> <span class="n">item1</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">item2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgaa95273" class="outline-2">
<h2 id="orgaa95273">Exercise 7.7</h2>
<div class="outline-text-2" id="text-orgaa95273">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">item1</span><span class="p">,</span> <span class="n">item2</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">item1</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="k">while</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">item2</span><span class="p">))</span>
      <span class="p">{</span>
	<span class="c1">// don't worry, Sales_item item is initialized when created</span>
	<span class="k">if</span><span class="p">(</span><span class="n">item1</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span> <span class="o">==</span> <span class="n">item2</span><span class="p">.</span><span class="n">isbn</span><span class="p">())</span>
	  <span class="n">item1</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">item2</span><span class="p">);</span>
	<span class="k">else</span>
	  <span class="p">{</span>
	    <span class="n">print</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span> <span class="n">item1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	    <span class="n">item1</span> <span class="o">=</span> <span class="n">item2</span><span class="p">;</span>
	  <span class="p">}</span>
      <span class="p">}</span>
      <span class="c1">// the last one</span>
      <span class="n">print</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span> <span class="n">item1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">std</span><span class="o">::</span><span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"No data?"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org27553ee" class="outline-2">
<h2 id="org27553ee">Exercise 7.8</h2>
<div class="outline-text-2" id="text-org27553ee">
<div class="highlight"><pre><span></span><span class="c1">// the Sales_data object which initializes the corressponding parameter would be modified in read function</span>
<span class="c1">// while in print function there is no need to modify.</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgc15c213" class="outline-2">
<h2 id="orgc15c213">Exercise 7.9</h2>
<div class="outline-text-2" id="text-orgc15c213">
<div class="highlight"><pre><span></span><span class="c1">// See Person.h and Person.cpp</span>
</pre></div>

<p>
<a href="#org589cba0">Person.h</a>
</p>
</div>
</div>

<div id="outline-container-org526bcbf" class="outline-2">
<h2 id="org526bcbf">Person.cpp</h2>
<div class="outline-text-2" id="text-org526bcbf">
<div class="highlight"><pre><span></span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">is</span> <span class="o">&gt;&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">name</span> <span class="o">&gt;&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">address</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">is</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">ostream</span> <span class="o">&amp;</span><span class="n">print</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">,</span> <span class="n">Person</span> <span class="o">&amp;</span><span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">get_address</span><span class="p">();</span>
  <span class="k">return</span> <span class="n">os</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Person</span><span class="o">::</span><span class="n">Person</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">read</span><span class="p">(</span><span class="n">is</span><span class="p">,</span> <span class="o">*</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org45198f7" class="outline-2">
<h2 id="org45198f7">Exercise 7.10</h2>
<div class="outline-text-2" id="text-org45198f7">
<div class="highlight"><pre><span></span><span class="c1">// if(read(read(cin. data), data2))</span>
<span class="c1">// if statement reads two Sales_data object at one time</span>
<span class="c1">// check istream object cin's status, if encounting a false input or an EOF, that condition statement evaluated value is false.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org12150b9" class="outline-2">
<h2 id="org12150b9">Exercise 7.11</h2>
<div class="outline-text-2" id="text-org12150b9">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">item1</span><span class="p">;</span>		<span class="c1">// using default constrcutor</span>
  <span class="n">string</span> <span class="n">number</span> <span class="o">=</span> <span class="s">"1234567"</span><span class="p">;</span>
  <span class="n">Sales_data</span> <span class="n">item2</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
  <span class="kt">unsigned</span> <span class="n">u</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">p</span> <span class="o">=</span> <span class="mf">5.6</span><span class="p">;</span>
  <span class="n">Sales_data</span> <span class="n">item3</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
  <span class="n">Sales_data</span> <span class="n">item4</span><span class="p">(</span><span class="n">cin</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orga4248cd" class="outline-2">
<h2 id="orga4248cd">Exercise 7.12</h2>
<div class="outline-text-2" id="text-orga4248cd">
<div class="highlight"><pre><span></span><span class="c1">// See Sales_data.h and Sales_data.cpp</span>
</pre></div>

<p>
<a href="#orgd428028">Sales_data.cpp</a>
</p>

<p>
<a href="#org787c97b">Sales_data.h</a>
</p>
</div>
</div>

<div id="outline-container-orgadc4d57" class="outline-2">
<h2 id="orgadc4d57">Exercise 7.13</h2>
<div class="outline-text-2" id="text-orgadc4d57">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">total</span><span class="p">(</span><span class="n">cin</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="n">cin</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">Sales_data</span> <span class="n">trans</span><span class="p">;</span>
      <span class="k">while</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">trans</span><span class="p">))</span>	<span class="c1">// statement like this is more suitable </span>
      <span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">total</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span> <span class="o">==</span> <span class="n">trans</span><span class="p">.</span><span class="n">isbn</span><span class="p">())</span>
	  <span class="n">total</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">trans</span><span class="p">);</span>
	<span class="k">else</span>
	  <span class="p">{</span>
	    <span class="n">print</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	    <span class="n">total</span> <span class="o">=</span> <span class="n">trans</span><span class="p">;</span>
	  <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">print</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"No data?!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org9953361" class="outline-2">
<h2 id="org9953361">Exercise 7.14</h2>
<div class="outline-text-2" id="text-org9953361">
<div class="highlight"><pre><span></span><span class="c1">// See Sales_data.h and Sales_data.cpp</span>
</pre></div>

<p>
<a href="#orgd428028">Sales_data.cpp</a>
</p>

<p>
<a href="#org787c97b">Sales_data.h</a>
</p>
</div>
</div>

<div id="outline-container-org57df389" class="outline-2">
<h2 id="org57df389">Exercise 7.15</h2>
<div class="outline-text-2" id="text-org57df389">
<div class="highlight"><pre><span></span><span class="c1">// See Person.h and Person.cpp</span>
</pre></div>

<p>
<a href="#org526bcbf">Person.cpp</a>
</p>

<p>
<a href="#org589cba0">Person.h</a>
</p>
</div>
</div>

<div id="outline-container-orgdd2e7b1" class="outline-2">
<h2 id="orgdd2e7b1">Exercise 7.16</h2>
<div class="outline-text-2" id="text-orgdd2e7b1">
<div class="highlight"><pre><span></span><span class="c1">// amount of access specifiers is not limited</span>
<span class="c1">// position of access specifiers should at the top level inside a class or a struct.</span>
<span class="c1">// constructors and some member functions should be defined after public access specifier, while data members and some member functions as helper functions should be defined after private access specifier.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org144f6ac" class="outline-2">
<h2 id="org144f6ac">Exercise 7.17</h2>
<div class="outline-text-2" id="text-org144f6ac">
<div class="highlight"><pre><span></span><span class="c1">// Of course there is a diference between keyword class and keyword struct</span>
<span class="c1">// Using keyword struct means that members defined before the first access spedifier is public;</span>
<span class="c1">// Using keyword class means that members defined before the first access spedifier is private</span>
</pre></div>
</div>
</div>

<div id="outline-container-org8c51020" class="outline-2">
<h2 id="org8c51020">Exercise 7.18</h2>
<div class="outline-text-2" id="text-org8c51020">
<div class="highlight"><pre><span></span><span class="c1">// A separation of implementation from interface</span>
<span class="c1">// Encapsulation hides the design details of class, keeps data members from directly modified, sets up a access rule and provides more safety in programming with calss.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org7f23ca6" class="outline-2">
<h2 id="org7f23ca6">Exercise 7.19</h2>
<div class="outline-text-2" id="text-org7f23ca6">
<div class="highlight"><pre><span></span><span class="c1">// See Person.h and Person.cpp</span>
</pre></div>

<p>
<a href="#org526bcbf">Person.cpp</a>
</p>

<p>
<a href="#org589cba0">Person.h</a>
</p>
</div>
</div>

<div id="outline-container-orgfb96956" class="outline-2">
<h2 id="orgfb96956">Exercise 7.20</h2>
<div class="outline-text-2" id="text-orgfb96956">
<div class="highlight"><pre><span></span><span class="c1">// friend is helpful in such a situation: functions as part of interfaces of class but are not member functions, for that data members of class are not accessibile to them, while whith friend declearations inside class, these functions are able to get data members directly.</span>
<span class="c1">// The disadvantage is the possibile abusing of this syntax, then functions which are not part of interfaces could also touch data members of class.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org0df7176" class="outline-2">
<h2 id="org0df7176">Exercise 7.21</h2>
<div class="outline-text-2" id="text-org0df7176">
<div class="highlight"><pre><span></span><span class="c1">// See Sales_data.h and Sales_data.cpp</span>
</pre></div>

<p>
<a href="#orgd428028">Sales_data.cpp</a>
</p>

<p>
<a href="#org787c97b">Sales_data.h</a>
</p>
</div>
</div>

<div id="outline-container-orgb637ff9" class="outline-2">
<h2 id="orgb637ff9">Exercise 7.22</h2>
<div class="outline-text-2" id="text-orgb637ff9">
<div class="highlight"><pre><span></span><span class="c1">// See Person.h and Person.cpp</span>
</pre></div>

<p>
<a href="#org526bcbf">Person.cpp</a>
</p>

<p>
<a href="#org589cba0">Person.h</a>
</p>
</div>
</div>

<div id="outline-container-orgd7992f1" class="outline-2">
<h2 id="orgd7992f1">Exercise 7.23</h2>
<div class="outline-text-2" id="text-orgd7992f1">
<div class="highlight"><pre><span></span><span class="c1">// See Screen.h</span>
</pre></div>
</div>
</div>

<div id="outline-container-org1aa2643" class="outline-2">
<h2 id="org1aa2643">Screen.h</h2>
<div class="outline-text-2" id="text-org1aa2643">
<div class="highlight"><pre><span></span><span class="cp">#ifndef SCREEN_H</span>
<span class="cp">#define SCREEN_H</span>
<span class="k">class</span> <span class="nc">Screen</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Window_mgr</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">using</span> <span class="n">ScreenIndex</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">Screen</span><span class="o">&gt;::</span><span class="n">size_type</span><span class="p">;</span>
  <span class="kt">void</span> <span class="nf">clear</span><span class="p">(</span><span class="n">ScreenIndex</span><span class="p">);</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">Screen</span><span class="o">&gt;</span> <span class="n">screens</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">Screen</span>
<span class="p">{</span>
  <span class="k">friend</span> <span class="kt">void</span> <span class="n">Window_mgr</span><span class="o">::</span><span class="n">clear</span><span class="p">(</span><span class="n">ScreenIndex</span><span class="p">);</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">using</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">string</span><span class="o">::</span><span class="n">size_type</span><span class="p">;</span>
  <span class="n">Screen</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
  <span class="n">Screen</span><span class="p">(</span><span class="n">pos</span> <span class="n">ht</span><span class="p">,</span> <span class="n">pos</span> <span class="n">wd</span><span class="p">)</span><span class="o">:</span> <span class="n">height</span><span class="p">(</span><span class="n">ht</span><span class="p">),</span> <span class="n">width</span><span class="p">(</span><span class="n">wd</span><span class="p">),</span>
			<span class="n">contents</span><span class="p">(</span><span class="n">ht</span> <span class="o">*</span> <span class="n">wd</span><span class="p">,</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">Screen</span><span class="p">(</span><span class="n">pos</span> <span class="n">ht</span><span class="p">,</span> <span class="n">pos</span> <span class="n">wd</span><span class="p">,</span> <span class="kt">char</span> <span class="n">c</span><span class="p">)</span><span class="o">:</span> <span class="n">height</span><span class="p">(</span><span class="n">ht</span><span class="p">),</span> <span class="n">width</span><span class="p">(</span><span class="n">wd</span><span class="p">),</span>
				<span class="n">contents</span><span class="p">(</span><span class="n">ht</span> <span class="o">*</span> <span class="n">wd</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="p">{}</span>
  <span class="kt">char</span> <span class="n">get</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">contents</span><span class="p">[</span><span class="n">cursor</span><span class="p">];}</span>
  <span class="kt">char</span> <span class="n">get</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">pos</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
  <span class="n">pos</span> <span class="nf">size</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>		<span class="cm">/* Exercise 7.33 */</span>
  <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">move</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">pos</span><span class="p">);</span>
  <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">set</span><span class="p">(</span><span class="kt">char</span><span class="p">);</span>
  <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">set</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="kt">char</span><span class="p">);</span>
  <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">display</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">)</span>
  <span class="p">{</span><span class="n">do_display</span><span class="p">(</span><span class="n">os</span><span class="p">);</span> <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;}</span>
  <span class="k">const</span> <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">display</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">)</span> <span class="k">const</span>
  <span class="p">{</span><span class="n">do_display</span><span class="p">(</span><span class="n">os</span><span class="p">);</span> <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">pos</span> <span class="n">cursor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">pos</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">contents</span><span class="p">;</span>
  <span class="kt">void</span> <span class="nf">do_display</span><span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">os</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span><span class="n">os</span> <span class="o">&lt;&lt;</span> <span class="n">contents</span><span class="p">;}</span>
<span class="p">};</span>
<span class="kr">inline</span> <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">Screen</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">pos</span> <span class="n">r</span><span class="p">,</span> <span class="n">pos</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">pos</span> <span class="n">row</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">width</span><span class="p">;</span>
  <span class="n">cursor</span> <span class="o">=</span> <span class="n">row</span> <span class="o">+</span> <span class="n">c</span><span class="p">;</span>
  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="kt">char</span> <span class="n">Screen</span><span class="o">::</span><span class="n">get</span><span class="p">(</span><span class="n">pos</span> <span class="n">r</span><span class="p">,</span> <span class="n">pos</span> <span class="n">c</span><span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
  <span class="n">pos</span> <span class="n">row</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">width</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">contents</span><span class="p">[</span><span class="n">row</span> <span class="o">+</span> <span class="n">c</span><span class="p">];</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">Screen</span><span class="o">::</span><span class="n">pos</span> <span class="n">Screen</span><span class="o">::</span><span class="n">size</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">height</span> <span class="o">*</span> <span class="n">width</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">Screen</span><span class="o">::</span><span class="n">set</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">contents</span><span class="p">[</span><span class="n">cursor</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">Screen</span><span class="o">::</span><span class="n">set</span><span class="p">(</span><span class="n">pos</span> <span class="n">r</span><span class="p">,</span> <span class="n">pos</span> <span class="n">col</span><span class="p">,</span> <span class="kt">char</span> <span class="n">ch</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">contents</span><span class="p">[</span><span class="n">r</span> <span class="o">*</span> <span class="n">width</span> <span class="o">+</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">ch</span><span class="p">;</span>
  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">inline</span> <span class="kt">void</span> <span class="n">Window_mgr</span><span class="o">::</span><span class="n">clear</span><span class="p">(</span><span class="n">ScreenIndex</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Screen</span> <span class="o">&amp;</span><span class="n">s</span> <span class="o">=</span> <span class="n">screens</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="n">s</span><span class="p">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">string</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="n">s</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="sc">' '</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div>

<div id="outline-container-org547d6bb" class="outline-2">
<h2 id="org547d6bb">Exercise 7.24</h2>
<div class="outline-text-2" id="text-org547d6bb">
<div class="highlight"><pre><span></span><span class="c1">// See Screen.h</span>
</pre></div>

<p>
<a href="#org1aa2643">Screen.h</a>
</p>
</div>
</div>

<div id="outline-container-org01bf437" class="outline-2">
<h2 id="org01bf437">Exercise 7.25</h2>
<div class="outline-text-2" id="text-org01bf437">
<div class="highlight"><pre><span></span><span class="c1">// Class screen could safely rely on the default copy and assignment operations which generated by compiler, for that class screen is constructed on the base of vector object and string object(both types support robust copy, assignment and destroy operations, when there is a need to do so to screen object, vector object and string object would have corresponding operations underneath) and built-in types.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org6dbaf96" class="outline-2">
<h2 id="org6dbaf96">Exercise 7.26</h2>
<div class="outline-text-2" id="text-org6dbaf96">
<div class="highlight"><pre><span></span><span class="c1">// See Sales_data.h</span>
</pre></div>

<p>
<a href="#org787c97b">Sales_data.h</a>
</p>
</div>
</div>

<div id="outline-container-orgd83e3fb" class="outline-2">
<h2 id="orgd83e3fb">Exercise 7.27</h2>
<div class="outline-text-2" id="text-orgd83e3fb">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Screen</span> <span class="n">myScreen</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="sc">'X'</span><span class="p">);</span>
  <span class="n">myScreen</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="n">set</span><span class="p">(</span><span class="sc">'#'</span><span class="p">).</span><span class="n">display</span><span class="p">(</span><span class="n">cout</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">myScreen</span><span class="p">.</span><span class="n">display</span><span class="p">(</span><span class="n">cout</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org9c19a61" class="outline-2">
<h2 id="org9c19a61">Exercise 7.28</h2>
<div class="outline-text-2" id="text-org9c19a61">
<div class="highlight"><pre><span></span><span class="c1">// XXXXXXXXXXXXXXXXXXXX#XXXX</span>
<span class="c1">// XXXXXXXXXXXXXXXXXXXXXXXXX</span>
</pre></div>
</div>
</div>

<div id="outline-container-org5b2b90c" class="outline-2">
<h2 id="org5b2b90c">Exercise 7.29</h2>
<div class="outline-text-2" id="text-org5b2b90c">
<div class="highlight"><pre><span></span><span class="c1">// OK then.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org78a23b8" class="outline-2">
<h2 id="org78a23b8">Exercise 7.30</h2>
<div class="outline-text-2" id="text-org78a23b8">
<div class="highlight"><pre><span></span><span class="c1">// Explicitly using pointer this</span>
<span class="c1">// Advantages: easy to understand, for the parameters and statements in member functions would not hide 'this' pointer</span>
<span class="c1">// Disadvantages: bring in redundant programming work, mistakes would be made in such detailed work</span>
<span class="c1">// So let compiler arrange the pointer this implicitly</span>
</pre></div>
</div>
</div>

<div id="outline-container-orga0c484a" class="outline-2">
<h2 id="orga0c484a">Exercise 7.31</h2>
<div class="outline-text-2" id="text-orga0c484a">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">X</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Y</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">X</span>
<span class="p">{</span>
  <span class="n">Y</span> <span class="o">*</span><span class="n">py</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>		<span class="c1">// p47</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">Y</span>
<span class="p">{</span>
  <span class="n">X</span> <span class="n">x</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>

<div id="outline-container-org39d53d6" class="outline-2">
<h2 id="org39d53d6">Exercise 7.32</h2>
<div class="outline-text-2" id="text-org39d53d6">
<div class="highlight"><pre><span></span><span class="c1">// See Screen.h</span>
</pre></div>

<p>
<a href="#org1aa2643">Screen.h</a>
</p>
</div>
</div>

<div id="outline-container-orgcf0e751" class="outline-2">
<h2 id="orgcf0e751">Exercise 7.33</h2>
<div class="outline-text-2" id="text-orgcf0e751">
<div class="highlight"><pre><span></span><span class="c1">// See Screen.h</span>
</pre></div>

<p>
<a href="#org1aa2643">Screen.h</a>
</p>
</div>
</div>

<div id="outline-container-org6d0c190" class="outline-2">
<h2 id="org6d0c190">Exercise 7.34</h2>
<div class="outline-text-2" id="text-org6d0c190">
<div class="highlight"><pre><span></span><span class="c1">// If put type membe pos's typedef statement at the end of class Screen,</span>
<span class="c1">// the declarations of private data member cursor, height and width would fail,</span>
<span class="c1">// for that the pos type specifier is not found in all scopes berfor these declarations.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org663fab8" class="outline-2">
<h2 id="org663fab8">Exercise 7.35</h2>
<div class="outline-text-2" id="text-org663fab8">
<div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="n">string</span> <span class="n">Type</span><span class="p">;</span>
<span class="n">Type</span> <span class="nf">initVal</span><span class="p">();</span>			<span class="c1">// Type declared before</span>
<span class="k">class</span> <span class="nc">Exercise</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">typedef</span> <span class="kt">double</span> <span class="n">Type</span><span class="p">;</span>
  <span class="n">Type</span> <span class="nf">setVal</span><span class="p">(</span><span class="n">Type</span><span class="p">);</span>		<span class="c1">// Type declared in class</span>
  <span class="n">Type</span> <span class="nf">initVal</span><span class="p">();</span>		<span class="c1">// same</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">val</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">Exercise</span><span class="o">::</span><span class="n">Type</span> <span class="n">Exercise</span><span class="o">::</span><span class="n">setVal</span><span class="p">(</span><span class="n">Type</span> <span class="n">parm</span><span class="p">)</span> <span class="c1">// type member Type of class Exercise</span>
<span class="p">{</span>
  <span class="n">val</span> <span class="o">=</span> <span class="n">parm</span> <span class="o">+</span> <span class="n">initVal</span><span class="p">();</span>
  <span class="k">return</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// and Exercise::initVal() should be defined</span>
</pre></div>
</div>
</div>

<div id="outline-container-org59ed88e" class="outline-2">
<h2 id="org59ed88e">Exercise 7.36</h2>
<div class="outline-text-2" id="text-org59ed88e">
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">X</span>
<span class="p">{</span>
  <span class="n">X</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">)</span><span class="o">:</span> <span class="n">base</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">rem</span><span class="p">(</span><span class="n">base</span> <span class="o">%</span> <span class="n">j</span><span class="p">)</span> <span class="p">{}</span>
  <span class="kt">int</span> <span class="n">base</span><span class="p">,</span> <span class="n">rem</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>

<div id="outline-container-org1f05147" class="outline-2">
<h2 id="org1f05147">Exercise 7.37</h2>
<div class="outline-text-2" id="text-org1f05147">
<div class="highlight"><pre><span></span><span class="n">Sales_data</span> <span class="nf">first_item</span><span class="p">(</span><span class="n">cin</span><span class="p">);</span>	<span class="c1">// Sales_data(istream &amp;is) {read(is, *this);} data members depend on cin</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">next</span><span class="p">;</span>		<span class="c1">// Sales_data(string s = ""): bookNo(s) {} bookNo "", units_sold 0, revenue 0.0</span>
  <span class="n">Sales_data</span> <span class="n">last</span><span class="p">(</span><span class="s">"9-999-99999-9"</span><span class="p">);</span> <span class="c1">// Sales_data(string s = ""): bookNo(s) {} bookNo "9-999-99999-9", units_sold 0, revenue 0.0 </span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org470cb0f" class="outline-2">
<h2 id="org470cb0f">Exercise 7.38</h2>
<div class="outline-text-2" id="text-org470cb0f">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Sales_data</span><span class="p">;</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="p">,</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="p">);</span>
<span class="k">class</span> <span class="nc">Sales_data</span>
<span class="p">{</span>
  <span class="k">friend</span> <span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="p">,</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="p">);</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">Sales_data</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span> <span class="o">=</span> <span class="n">cin</span><span class="p">)</span> <span class="p">{</span><span class="n">read</span><span class="p">(</span><span class="n">is</span><span class="p">,</span> <span class="o">*</span><span class="k">this</span><span class="p">);}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">string</span> <span class="n">bookNo</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">units_sold</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">revenue</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">double</span> <span class="n">price</span><span class="p">;</span>
  <span class="n">is</span> <span class="o">&gt;&gt;</span> <span class="n">item</span><span class="p">.</span><span class="n">bookNo</span> <span class="o">&gt;&gt;</span> <span class="n">item</span><span class="p">.</span><span class="n">units_sold</span> <span class="o">&gt;&gt;</span> <span class="n">price</span><span class="p">;</span>
  <span class="n">item</span><span class="p">.</span><span class="n">revenue</span> <span class="o">=</span> <span class="n">price</span> <span class="o">*</span> <span class="n">item</span><span class="p">.</span><span class="n">units_sold</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">is</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org5cb104a" class="outline-2">
<h2 id="org5cb104a">Exercise 7.39</h2>
<div class="outline-text-2" id="text-org5cb104a">
<div class="highlight"><pre><span></span><span class="c1">// Illegal</span>
<span class="c1">// it will introduce a ambiguous-like call, when there is a statememt trying to define a object of Sales_data class type but without arguments, compiler does not know which one is better to be called.</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgcfb6ef0" class="outline-2">
<h2 id="orgcfb6ef0">Exercise 7.40</h2>
<div class="outline-text-2" id="text-orgcfb6ef0">
<div class="highlight"><pre><span></span><span class="c1">// See Employee.h</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgc2cb006" class="outline-2">
<h2 id="orgc2cb006">Employee.h</h2>
<div class="outline-text-2" id="text-orgc2cb006">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Employee</span><span class="p">;</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Employee</span> <span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
<span class="k">class</span> <span class="nc">Employee</span>
<span class="p">{</span>
  <span class="k">friend</span> <span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Employee</span> <span class="o">&amp;</span><span class="n">e</span><span class="p">);</span>
  <span class="k">using</span> <span class="n">str</span> <span class="o">=</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">str</span> <span class="n">name</span><span class="p">;</span>
  <span class="n">str</span> <span class="n">address</span><span class="p">;</span>
  <span class="n">str</span> <span class="n">contact</span><span class="p">;</span>
  <span class="n">str</span> <span class="n">department</span><span class="p">;</span>
  <span class="n">str</span> <span class="n">job</span><span class="p">;</span>
 <span class="k">public</span><span class="o">:</span>
 <span class="n">Employee</span><span class="p">()</span><span class="o">:</span> <span class="n">Employee</span><span class="p">(</span><span class="s">""</span><span class="p">)</span> <span class="p">{};</span>
 <span class="n">Employee</span><span class="p">(</span><span class="n">str</span> <span class="n">n</span><span class="p">,</span> <span class="n">str</span> <span class="n">a</span> <span class="o">=</span> <span class="s">""</span><span class="p">,</span> <span class="n">str</span> <span class="n">c</span> <span class="o">=</span> <span class="s">""</span><span class="p">,</span> <span class="n">str</span> <span class="n">d</span> <span class="o">=</span> <span class="s">""</span><span class="p">,</span> <span class="n">str</span> <span class="n">j</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span><span class="o">:</span>
  <span class="n">name</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">address</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">contact</span><span class="p">(</span><span class="n">c</span><span class="p">),</span>  <span class="n">department</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">job</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="p">{}</span>
  <span class="c1">// Exercise 7.40: An Employee object better has a name, left could be filled later</span>
  <span class="c1">// And compiler could be able to distinguish above two constructors</span>
 <span class="n">Employee</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">)</span><span class="o">:</span> <span class="n">Employee</span><span class="p">()</span> <span class="p">{</span><span class="n">read</span><span class="p">(</span><span class="n">is</span><span class="p">,</span> <span class="o">*</span><span class="k">this</span><span class="p">);}</span>
<span class="p">};</span>
<span class="n">istream</span> <span class="o">&amp;</span><span class="n">read</span><span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">is</span><span class="p">,</span> <span class="n">Employee</span> <span class="o">&amp;</span><span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">is</span> <span class="o">&gt;&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">name</span> <span class="o">&gt;&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">address</span> <span class="o">&gt;&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">contact</span>
     <span class="o">&gt;&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">department</span> <span class="o">&gt;&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">job</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">is</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org91763f7" class="outline-2">
<h2 id="org91763f7">Exercise 7.41</h2>
<div class="outline-text-2" id="text-org91763f7">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">item1</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">Sales_data</span> <span class="n">item2</span><span class="p">(</span><span class="s">"12345"</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">Sales_data</span> <span class="n">item3</span><span class="p">(</span><span class="s">"54321"</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mf">23.00</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">Sales_data</span> <span class="n">item4</span><span class="p">(</span><span class="n">cin</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</div>

<div id="outline-container-org857599e" class="outline-2">
<h2 id="org857599e">Exercise 7.42</h2>
<div class="outline-text-2" id="text-org857599e">
<div class="highlight"><pre><span></span><span class="c1">// See Employee.h</span>
</pre></div>

<p>
<a href="#orgc2cb006">Employee.h</a>
</p>
</div>
</div>

<div id="outline-container-org18eeed5" class="outline-2">
<h2 id="org18eeed5">Exercise 7.43</h2>
<div class="outline-text-2" id="text-org18eeed5">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NoDefault</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">im</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">NoDefault</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span><span class="o">:</span> <span class="n">im</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">C</span>
<span class="p">{</span>
  <span class="n">NoDefault</span> <span class="n">n_member</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">C</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span><span class="o">:</span> <span class="n">n_member</span><span class="p">(</span><span class="n">NoDefault</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="p">{}</span>
  <span class="n">C</span><span class="p">()</span><span class="o">:</span> <span class="n">C</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</div>
</div>

<div id="outline-container-org8368d08" class="outline-2">
<h2 id="org8368d08">Exercise 7.44</h2>
<div class="outline-text-2" id="text-org8368d08">
<div class="highlight"><pre><span></span><span class="c1">// Based on class type NoDefault defined in exercise 7.44</span>
<span class="c1">// vector&lt;NoDefault&gt; vec(10) is illegal</span>
<span class="c1">// for that class type NoDefault has a constructor with one argument, so for itself ther is no default constructor</span>
<span class="c1">// in this statement only the amount of vector is given, so the element of vector must be initialized by this class' default constructor</span>
<span class="c1">// for there is no default constructor, illegal</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgbe61800" class="outline-2">
<h2 id="orgbe61800">Exercise 7.45</h2>
<div class="outline-text-2" id="text-orgbe61800">
<div class="highlight"><pre><span></span><span class="c1">// Legal</span>
<span class="c1">// for there is a default constructor defined inside class C</span>
</pre></div>
</div>
</div>

<div id="outline-container-org37e5ee9" class="outline-2">
<h2 id="org37e5ee9">Exercise 7.46</h2>
<div class="outline-text-2" id="text-org37e5ee9">
<div class="highlight"><pre><span></span><span class="c1">// a: false, if no constructor is given, the compiler generates one</span>
<span class="c1">// b: false, a constructor provides default arguments for all its paramenters also defines a default constructor</span>
<span class="c1">// c: false, define meaningful, troubles will be introduced if it has no default constructor</span>
<span class="c1">// d: false, if ther is another constructor explicitly defined, compiler would not generate a default constructor for this class</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgcf00ba7" class="outline-2">
<h2 id="orgcf00ba7">Exercise 7.47</h2>
<div class="outline-text-2" id="text-orgcf00ba7">
<div class="highlight"><pre><span></span><span class="c1">// It should not be explicit</span>
<span class="c1">// a String object able to be explicitly transformmed to Sales_data object is programmer friendly, which saves a lot of work</span>
<span class="c1">// while sometimes this feature will be abused, String object which is not isbn would be explicitly transformmed to Sales_data object without a second thought</span>
</pre></div>
</div>
</div>

<div id="outline-container-org3d25ec8" class="outline-2">
<h2 id="org3d25ec8">Exercise 7.48</h2>
<div class="outline-text-2" id="text-org3d25ec8">
<div class="highlight"><pre><span></span><span class="c1">// not explicit</span>
<span class="c1">// string null_isbn("9-999-99999-9"); direct initialization of string object</span>
<span class="c1">// Sales_data item1(null_isbn); direct initialization of Sales_data object</span>
<span class="c1">// Sales_data item2("9-999-99999-9"); direct initialization of Sales_data object</span>
<span class="c1">// explicit</span>
<span class="c1">// no difference from before</span>
</pre></div>
</div>
</div>

<div id="outline-container-org909df05" class="outline-2">
<h2 id="org909df05">Exercise 7.49</h2>
<div class="outline-text-2" id="text-org909df05">
<div class="highlight"><pre><span></span><span class="c1">// a: Sales_data &amp;combine(Sales_data);</span>
<span class="c1">// b: Sales_data &amp;combine(Sales_data &amp;);</span>
<span class="c1">// c: Sales_data &amp;combine(const Sales_data &amp;) const;</span>
<span class="c1">// i: Sales_data, s: string</span>
<span class="c1">// i.combine(s)</span>
<span class="c1">// a: implicitly using s to construct a Sales_data temp object, which is passed as the argument of combine, then it is used to initialize the parameter(copy)</span>
<span class="c1">// b: illegal, the parameter is a reference which could not be binded to a temp object</span>
<span class="c1">// c: illegal, const member function called by const object should not modify the calling object.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org37749fb" class="outline-2">
<h2 id="org37749fb">Exercise 7.50</h2>
<div class="outline-text-2" id="text-org37749fb">
<div class="highlight"><pre><span></span><span class="c1">// See Person.h</span>
<span class="c1">// Not every string is a man's name, so implicitly transform is not allowed.</span>
</pre></div>

<p>
<a href="#org589cba0">Person.h</a>
</p>
</div>
</div>

<div id="outline-container-org53c2661" class="outline-2">
<h2 id="org53c2661">Exercise 7.51</h2>
<div class="outline-text-2" id="text-org53c2661">
<div class="highlight"><pre><span></span><span class="c1">// C type string literal explicitly transformmed to string object is easy to understand and acceptable</span>
<span class="c1">// For vector is a class template, external class information must be provided to instantiate a vector with certain class, such class may not has a default constructor, so only giving the amount of vector maybe not enough, see section 7.5.3 </span>
</pre></div>
</div>
</div>

<div id="outline-container-orgf723cee" class="outline-2">
<h2 id="orgf723cee">Exercise 7.52</h2>
<div class="outline-text-2" id="text-orgf723cee">
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Sales_data</span>		<span class="c1">// using aggregate class </span>
<span class="p">{</span>
  <span class="n">string</span> <span class="n">bookNo</span><span class="p">;</span>
  <span class="kt">unsigned</span> <span class="n">units_sold</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">revenue</span><span class="p">;</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Sales_data</span> <span class="n">item</span> <span class="o">=</span> <span class="p">{</span><span class="s">"978-0590353403"</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mf">15.99</span><span class="p">};</span>
  <span class="c1">// legal</span>
  <span class="c1">// item.bookNo = "978-0590353403"</span>
  <span class="c1">// item.units_sold = 25</span>
  <span class="c1">// item.revenue = 15.99</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org5e718e8" class="outline-2">
<h2 id="org5e718e8">Exercise 7.53</h2>
<div class="outline-text-2" id="text-org5e718e8">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Debug</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">constexpr</span> <span class="n">Debug</span><span class="p">(</span><span class="kt">bool</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span><span class="o">:</span> <span class="n">hw</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">io</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">other</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">{}</span>
  <span class="k">constexpr</span> <span class="n">Debug</span><span class="p">(</span><span class="kt">bool</span> <span class="n">h</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">i</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">o</span><span class="p">)</span><span class="o">:</span>
  <span class="n">hw</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">io</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">other</span><span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="p">{}</span>
  <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">any</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">hw</span> <span class="o">||</span> <span class="n">io</span> <span class="o">||</span> <span class="n">other</span><span class="p">;}</span>
  <span class="kt">void</span> <span class="n">set_io</span><span class="p">(</span><span class="kt">bool</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span><span class="n">io</span> <span class="o">=</span> <span class="n">b</span><span class="p">;}</span>
  <span class="kt">void</span> <span class="n">set_hw</span><span class="p">(</span><span class="kt">bool</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span><span class="n">hw</span> <span class="o">=</span> <span class="n">b</span><span class="p">;}</span>
  <span class="kt">void</span> <span class="n">set_other</span><span class="p">(</span><span class="kt">bool</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span><span class="n">hw</span> <span class="o">=</span> <span class="n">b</span><span class="p">;}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">bool</span> <span class="n">hw</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">io</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">other</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>

<div id="outline-container-org732c5bc" class="outline-2">
<h2 id="org732c5bc">Exercise 7.54</h2>
<div class="outline-text-2" id="text-org732c5bc">
<div class="highlight"><pre><span></span><span class="c1">// No</span>
<span class="c1">// In C++11: these member functions whose name start with 'set_' will modify data members in function body, against to the requirement of constexpr function which should be implicitly const member function</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgcffeb2c" class="outline-2">
<h2 id="orgcffeb2c">Exercise 7.55</h2>
<div class="outline-text-2" id="text-orgcffeb2c">
<div class="highlight"><pre><span></span><span class="c1">// No</span>
<span class="c1">// data member s in Data is of strin type, which is not literal type</span>
<span class="c1">// so aggregate class Data is not constexpr class</span>
</pre></div>
</div>
</div>

<div id="outline-container-org0cbcecc" class="outline-2">
<h2 id="org0cbcecc">Exercise 7.56</h2>
<div class="outline-text-2" id="text-org0cbcecc">
<div class="highlight"><pre><span></span><span class="c1">// Static member is not contained in objects of class, it is directly related to class itself.</span>
<span class="c1">// objects of same class do not store a common data, and if the data is changed, they can use the new value.</span>
<span class="c1">// Static data member' class type could be imcomplete; could be passed as a default argument of a member function in a class.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org35d44f7" class="outline-2">
<h2 id="org35d44f7">Exercise 7.57</h2>
<div class="outline-text-2" id="text-org35d44f7">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Account</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="kt">void</span> <span class="n">calculate</span><span class="p">()</span> <span class="p">{</span><span class="n">amount</span> <span class="o">+=</span> <span class="n">amount</span> <span class="o">*</span> <span class="n">interestRate</span><span class="p">;}</span>
  <span class="k">static</span> <span class="kt">double</span> <span class="n">rate</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="n">interestRate</span><span class="p">;}</span>
  <span class="k">static</span> <span class="kt">void</span> <span class="n">rate</span><span class="p">(</span><span class="kt">double</span><span class="p">);</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">string</span> <span class="n">owner</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">amount</span><span class="p">;</span>
  <span class="k">static</span> <span class="kt">double</span> <span class="n">interestRate</span><span class="p">;</span>
  <span class="k">static</span> <span class="kt">double</span> <span class="nf">initRate</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgba6e176" class="outline-2">
<h2 id="orgba6e176">Exercise 7.58</h2>
<div class="outline-text-2" id="text-orgba6e176">
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Example</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">static</span> <span class="kt">double</span> <span class="n">rate</span><span class="p">;</span>		<span class="c1">// generally static data member should defined outside of class </span>
  <span class="k">static</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">vecSize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
  <span class="k">static</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">vec</span><span class="p">;</span>	<span class="c1">// same reason as before</span>
<span class="p">};</span>
<span class="kt">double</span> <span class="n">Example</span><span class="o">::</span><span class="n">rate</span> <span class="o">=</span> <span class="mf">6.5</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Example</span><span class="o">::</span><span class="n">vec</span><span class="p">(</span><span class="n">vecSize</span><span class="p">);</span>
</pre></div>
</div>
</div>
            
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="https-zero4drift-github-io",
            disqus_url="https://zero4drift.github.io/posts/Cpp-Primer-5th-Exercises-Chapter-7/",
        disqus_title="Cpp-Primer-5th-Exercises-Chapter-7",
        disqus_identifier="cache/posts/Cpp-Primer-5th-Exercises-Chapter-7.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    


        </div>
    </div>

    
    <footer><div class="container">
            <div class="social">



                <div class="social-entry">
                    <a href="../../rss.xml" target="_blank">
                        <i class="fa fa-rss"></i> 
                    </a>
                </div>
            </div>
                <div class="copyright">
                    Contents © 2018         <a href="mailto:fang0052@e.ntu.edu.sg">zero4drift</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                    
                </div>
           
        </div>
    </footer><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?06e0ade16d98033ac1aad78106d873c8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script>
</body>
</html>
