<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Refresher of SICP chapter 1.2 abstraction procedure">
<meta name="viewport" content="width=device-width">
<title>SICP-Refresher-Chapter-1(2) | 钉钉是世界上最傻逼的app</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://zero4drift.github.io/posts/sicp-refresher-chapter-1%282%29/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="zero4drift">
<meta property="og:site_name" content="钉钉是世界上最傻逼的app">
<meta property="og:title" content="SICP-Refresher-Chapter-1(2)">
<meta property="og:url" content="https://zero4drift.github.io/posts/sicp-refresher-chapter-1%282%29/">
<meta property="og:description" content="Refresher of SICP chapter 1.2 abstraction procedure">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-12-14T17:53:02+08:00">
<meta property="article:tag" content="Scheme">
<meta property="article:tag" content="SICP">
</head>
<body>
    

    <header id="header" class="navbar"><div class="container">
            
    <div class="brand">

        <div class="brand-text">
            <a href="https://zero4drift.github.io/" title="钉钉是世界上最傻逼的app" rel="home">
                钉钉是世界上最傻逼的app
            </a>
        </div>

        <a id="btn-toggle-nav" class="navbar-toggle">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
    </div>

            
    <nav class="navbar-collapse collapse"><ul class="nav">
<li><a href="../../archive.html">Archive</a></li>
                <li><a href="https://github.com/zero4drift">Github</a></li>
                <li><a href="../../categories/">Tags</a></li>
                <li><a href="../../rss.xml">RSS feed</a></li>
    
    
    </ul></nav>
</div>
    </header><div class="header-padding"> </div>

    
    <div class="post-header">
        <div class="container">
            <div class="title">
                SICP-Refresher-Chapter-1(2)
            </div>
        </div>
    </div>

    <div class="post-meta">
      <div class="container">
	<div class="meta clearfix">
	  <div class="authordate">
	    <time class="timeago" datetime="2018-12-14T17:53:02+08:00">2018/12/14</time>
</div>
	  <div class="post-tags">
	    <div class="tag">
	      <a href="../../categories/scheme/" rel="tag">Scheme</a>
	    </div>
	    <div class="tag">
	      <a href="../../categories/sicp/" rel="tag">SICP</a>
	    </div>
	  </div>
	</div>
      </div>
    </div>
    
    
    <div id="post-main" class="main">
        <div class="container">
        <div id="outline-container-org35ac54f" class="outline-2">
<h2 id="org35ac54f">过程与它们所产生的计算</h2>
<div class="outline-text-2" id="text-org35ac54f">
<ol class="org-ol">
<li>理解如何编程：
<ol class="org-ol">
<li>编程领域中各种有用的常见模式；</li>
<li>哪些过程值得定义；</li>
<li>对执行一个过程的效果做出预期：
<ol class="org-ol">
<li>学会去看清各种不同种类的过程会产生什么样的计算过程。</li>
</ol>
</li>
</ol>
</li>
<li>一个过程也就是一种模式，它描述了一个计算过程的局部演化方式，描述了这一计算
过程中的每个步骤是怎样基于前面的步骤建立起来的。</li>
</ol>
</div>

<div id="outline-container-org6b5fe55" class="outline-3">
<h3 id="org6b5fe55">线性的递归和迭代</h3>
<div class="outline-text-3" id="text-org6b5fe55">
<ol class="org-ol">
<li>递归计算过程（本节中是线性递归过程）
<ol class="org-ol">
<li>执行时，这样的计算过程构造起一个推迟进行的操作所形成的链条，链条的长度
也就是为保存其轨迹解释器需要保存的信息量，长度是线性增长的；当链条达到
最大时，收缩阶段开始并表现为这些运算的实际执行；</li>
<li>这种类型的计算过程由此运算链条所刻画；</li>
<li>计算步骤线性增长，存储空间线性增长；</li>
<li>解释器维持着程序变量之外的与计算状态相关的一些隐含信息。</li>
</ol>
</li>
<li>迭代计算过程（本节中是线性迭代过程）
<ol class="org-ol">
<li>没有任何增长或收缩，其计算过程就是那种其状态可以用固定数目的状态变量描
述的计算过程；</li>
<li>存在这一套固定的法则描述了计算过程从一个状态到下一个状态转换时这些变量
的更新方式（可能还有一个结束检测）；</li>
<li>计算步骤线性增长，存储空间是常量；</li>
<li>状态变量提供了计算状态的完整描述。</li>
</ol>
</li>
<li>递归过程：语法形式；递归计算过程：计算过程的进展方式；</li>
<li>尾递归：在常量空间种执行迭代型计算过程，即使这一计算是用一个递归过程描述的。</li>
</ol>
</div>
</div>

<div id="outline-container-orgd08ecb0" class="outline-3">
<h3 id="orgd08ecb0">练习 1.9-1.10</h3>
<div class="outline-text-3" id="text-orgd08ecb0">
</div>
<div id="outline-container-org8e8865e" class="outline-4">
<h4 id="org8e8865e">1.9</h4>
<div class="outline-text-4" id="text-org8e8865e">
<div class="highlight"><pre><span></span>     <span class="c1">;; 第一个是递归计算过程；第二个是迭代计算过程。</span>
     <span class="c1">;; 使用代换模形，第一个过程：</span>
     <span class="c1">;; (+ 4 5)</span>
     <span class="c1">;; (inc (+ 3 5))</span>
     <span class="c1">;; (inc (inc (+ 2 5)))</span>
     <span class="c1">;; (inc (inc (inc (+ 1 5))))</span>
     <span class="c1">;; (inc (inc (inc (inc (+ 0 5)))))</span>
     <span class="c1">;; (inc (inc (inc (inc 5))))</span>
     <span class="c1">;; (inc (inc (inc 6)))</span>
     <span class="c1">;; (inc (inc 7))</span>
     <span class="c1">;; (inc 8)</span>
     <span class="c1">;; 9</span>
     <span class="c1">;; 使用代换模形，第二个过程：</span>
     <span class="c1">;; (+ 4 5)</span>
     <span class="c1">;; (+ 3 6)</span>
     <span class="c1">;; (+ 2 7)</span>
     <span class="c1">;; (+ 1 8)</span>
     <span class="c1">;; (+ 0 9)</span>
     <span class="c1">;; 9</span>
</pre></div>
</div>
</div>

<div id="outline-container-org218aef0" class="outline-4">
<h4 id="org218aef0">1.10</h4>
<div class="outline-text-4" id="text-org218aef0">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="nf">A</span> <span class="mi">1</span> <span class="mi">10</span><span class="p">)</span>				<span class="c1">;1024</span>
     <span class="p">(</span><span class="nf">A</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">)</span>					<span class="c1">;65536</span>
     <span class="p">(</span><span class="nf">A</span> <span class="mi">3</span> <span class="mi">3</span><span class="p">)</span>					<span class="c1">;65536</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">f</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">A</span> <span class="mi">0</span> <span class="nv">n</span><span class="p">))</span>				<span class="c1">;(* 2 n)</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">g</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">A</span> <span class="mi">1</span> <span class="nv">n</span><span class="p">))</span>				<span class="c1">;(if (= n 0) 0 (expt 2 n))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">h</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">A</span> <span class="mi">2</span> <span class="nv">n</span><span class="p">))</span>				<span class="c1">;(cond ((= n 0) 0) ((= n 1) 2) (else (expt 2 (expt 2 (expt 2  (- n 2))))))</span>
</pre></div>
</div>
</div>
</div>

<div id="outline-container-orgcc4eb00" class="outline-3">
<h3 id="orgcc4eb00">树形递归</h3>
<div class="outline-text-3" id="text-orgcc4eb00">
<ol class="org-ol">
<li>树形递归的计算步骤增长相对于线性增长来说要快的多，可能极其低效；</li>
<li>但并不是说树形递归就是没有用的：
<ol class="org-ol">
<li>树形递归更容易描述和理解；</li>
<li>当在层次结构性的数据上操作而不是对数操作时，它是一种自然的威力强大的工
具；</li>
<li>即使是对于数的计算，树形递归也是具有启发意义的，可以帮助我们理解和设计
程序；</li>
</ol>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgf59f784" class="outline-3">
<h3 id="orgf59f784">练习 1.11-1.13</h3>
<div class="outline-text-3" id="text-orgf59f784">
</div>
<div id="outline-container-orgca43c29" class="outline-4">
<h4 id="orgca43c29">1.11</h4>
<div class="outline-text-4" id="text-orgca43c29">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">func-re</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt; </span><span class="nv">n</span> <span class="mi">3</span><span class="p">)</span>
	   <span class="nv">n</span>
	   <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nf">func-re</span> <span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="mi">1</span><span class="p">))</span> <span class="p">(</span><span class="nb">* </span><span class="mi">2</span> <span class="p">(</span><span class="nf">func-re</span> <span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="mi">2</span><span class="p">)))</span> <span class="p">(</span><span class="nb">* </span><span class="mi">3</span> <span class="p">(</span><span class="nf">func-re</span> <span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="mi">3</span><span class="p">))))))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">func-it</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">func-iter</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="nv">n</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">func-iter</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> <span class="nv">i</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="nv">i</span> <span class="nv">n</span><span class="p">)</span>
	   <span class="nv">c</span>
	   <span class="p">(</span><span class="nf">func-iter</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">a</span> <span class="p">(</span><span class="nb">* </span><span class="mi">2</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span><span class="nf">*3</span> <span class="nv">c</span><span class="p">))</span>
		      <span class="nv">a</span>
		      <span class="nv">b</span>
		      <span class="p">(</span><span class="nb">+ </span><span class="nv">i</span> <span class="mi">1</span><span class="p">)</span>
		      <span class="nv">n</span><span class="p">)))</span>
</pre></div>
</div>
</div>

<div id="outline-container-org00b2ee3" class="outline-4">
<h4 id="org00b2ee3">1.12</h4>
<div class="outline-text-4" id="text-org00b2ee3">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">pascal-re</span> <span class="nv">row</span> <span class="nv">col</span><span class="p">)</span>
       <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="nb">&gt; </span><span class="nv">col</span> <span class="nv">row</span><span class="p">)</span> <span class="p">(</span><span class="nf">error</span> <span class="s">"invalid col value"</span><span class="p">))</span>
	     <span class="p">((</span><span class="k">or </span><span class="p">(</span><span class="nb">= </span><span class="nv">col</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span> <span class="nv">=</span> <span class="nv">row</span> <span class="nv">col</span><span class="p">))</span> <span class="mi">1</span><span class="p">)</span>
	     <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nf">pascal-re</span> <span class="p">(</span><span class="nb">- </span><span class="nv">row</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">- </span><span class="nv">col</span> <span class="mi">1</span><span class="p">))</span>
		      <span class="p">(</span><span class="nf">pascal-re</span> <span class="p">(</span><span class="nb">- </span><span class="nv">row</span> <span class="mi">1</span><span class="p">)</span> <span class="nv">col</span><span class="p">)))))</span>
</pre></div>
</div>
</div>

<div id="outline-container-org3764f2c" class="outline-4">
<h4 id="org3764f2c">1.13</h4>
<div class="outline-text-4" id="text-org3764f2c">
<div class="highlight"><pre><span></span>     <span class="c1">;; 证明跳过</span>
</pre></div>
</div>
</div>
</div>

<div id="outline-container-org847bf58" class="outline-3">
<h3 id="org847bf58">增长的阶</h3>
<div class="outline-text-3" id="text-org847bf58">
<ol class="org-ol">
<li>增长的阶为我们提供了对计算过程行为的一种很粗略的描述；</li>
<li>增长的阶也为我们在问题规模改变时，预期一个计算过程的行为变化（比如占用资
源）提供了有用的线索。</li>
</ol>
</div>
</div>

<div id="outline-container-org47fb898" class="outline-3">
<h3 id="org47fb898">练习 1.14-1.15</h3>
<div class="outline-text-3" id="text-org47fb898">
</div>
<div id="outline-container-org2d4f26f" class="outline-4">
<h4 id="org2d4f26f">1.14</h4>
<div class="outline-text-4" id="text-org2d4f26f">
<div class="highlight"><pre><span></span>     <span class="c1">;; 不画图</span>
     <span class="c1">;; 空间增长的阶应该是 theta(n)</span>
     <span class="c1">;; 步数增长的阶不明确，网上的资料各方面也有不同的意见</span>
</pre></div>
</div>
</div>

<div id="outline-container-org9887928" class="outline-4">
<h4 id="org9887928">1.15</h4>
<div class="outline-text-4" id="text-org9887928">
<div class="highlight"><pre><span></span>     <span class="c1">;; a) p 将被调用 5 次</span>
     <span class="c1">;; b) 空间增长的阶：theta(log a); 步数增长的阶：theta(log a)</span>
</pre></div>
</div>
</div>
</div>

<div id="outline-container-org41a7911" class="outline-3">
<h3 id="org41a7911">求幂</h3>
<div class="outline-text-3" id="text-org41a7911">
<ol class="org-ol">
<li>使用求幂的例子引出增长的阶为对数增长，而不是线性增长的递归计算过程，是对
增长的阶的继续深入和补充。</li>
</ol>
</div>
</div>

<div id="outline-container-orgf37eb49" class="outline-3">
<h3 id="orgf37eb49">练习 1.16-1.19</h3>
<div class="outline-text-3" id="text-orgf37eb49">
</div>
<div id="outline-container-org2135e5d" class="outline-4">
<h4 id="org2135e5d">1.16</h4>
<div class="outline-text-4" id="text-org2135e5d">
<div class="highlight"><pre><span></span>     <span class="c1">;; 定义一个不变量，要求它在状态之间保持不变，这一技术是思考迭代算法设计问题时的</span>
     <span class="c1">;; 一种非常强有力的方法</span>
     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">even? </span><span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nb">remainder </span><span class="nv">n</span> <span class="mi">2</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fast-expt-it</span> <span class="nv">b</span> <span class="nv">n</span> <span class="nv">a</span><span class="p">)</span>
       <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="nb">= </span><span class="nv">n</span> <span class="mi">0</span><span class="p">)</span> <span class="nv">a</span><span class="p">)</span>
	     <span class="p">((</span><span class="nb">even? </span><span class="nv">n</span><span class="p">)</span> <span class="p">(</span><span class="nf">fast-expt-it</span> <span class="nv">b</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">n</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="nv">a</span> <span class="p">(</span><span class="nb">* </span><span class="nv">b</span> <span class="nv">b</span><span class="p">))))</span>
	     <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nb">* </span><span class="nv">b</span> <span class="p">(</span><span class="nf">fast-expt-it</span> <span class="nv">b</span> <span class="p">(</span><span class="nb">/ </span><span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="nv">a</span> <span class="p">(</span><span class="nb">* </span><span class="nv">b</span> <span class="nv">b</span><span class="p">)))))))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fast-expt</span> <span class="nv">b</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">fast-expt-it</span> <span class="nv">b</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>

<div id="outline-container-org692e759" class="outline-4">
<h4 id="org692e759">1.17</h4>
<div class="outline-text-4" id="text-org692e759">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">double</span> <span class="nv">x</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="nv">x</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">halve</span> <span class="nv">x</span><span class="p">)</span>
       <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span> <span class="p">(</span><span class="nb">remainder </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span>
	   <span class="p">(</span><span class="nb">/ </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)</span>
	   <span class="p">(</span><span class="nf">error</span> <span class="s">"Invalid number"</span><span class="p">)))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">even? </span><span class="nv">x</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nb">remainder </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">* </span><span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
       <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="k">or </span><span class="p">(</span><span class="nb">= </span><span class="nv">y</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nb">= </span><span class="nv">x</span> <span class="mi">0</span><span class="p">))</span> <span class="mi">0</span><span class="p">)</span>
	     <span class="p">((</span><span class="nb">= </span><span class="nv">y</span> <span class="mi">1</span><span class="p">)</span> <span class="nv">x</span><span class="p">)</span>
	     <span class="p">((</span><span class="nb">even? </span><span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="p">(</span><span class="nf">double</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">y</span> <span class="mi">2</span><span class="p">)))</span>
	     <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="p">(</span><span class="nb">* </span><span class="nv">x</span> <span class="p">(</span><span class="nb">- </span><span class="nv">y</span> <span class="mi">1</span><span class="p">))))))</span>
</pre></div>
</div>
</div>

<div id="outline-container-org5ecb72e" class="outline-4">
<h4 id="org5ecb72e">1.18</h4>
<div class="outline-text-4" id="text-org5ecb72e">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">double</span> <span class="nv">x</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="nv">x</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">halve</span> <span class="nv">x</span><span class="p">)</span>
       <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span> <span class="p">(</span><span class="nb">remainder </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span>
	   <span class="p">(</span><span class="nb">/ </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)</span>
	   <span class="p">(</span><span class="nf">error</span> <span class="s">"Invalid number"</span><span class="p">)))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">even? </span><span class="nv">x</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nb">remainder </span><span class="nv">x</span> <span class="mi">2</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">multi-iter</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
       <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="k">or </span><span class="p">(</span><span class="nb">= </span><span class="nv">x</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nb">= </span><span class="nv">y</span> <span class="mi">0</span><span class="p">))</span> <span class="mi">0</span><span class="p">)</span>
	     <span class="p">((</span><span class="nb">= </span><span class="nv">y</span> <span class="mi">1</span><span class="p">)</span> <span class="nv">x</span><span class="p">)</span>
	     <span class="p">((</span><span class="nb">even? </span><span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nf">multi-iter</span> <span class="p">(</span><span class="nf">double</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">y</span> <span class="mi">2</span><span class="p">)))</span>
	     <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="p">(</span><span class="nf">multi-iter</span> <span class="nv">x</span> <span class="p">(</span><span class="nb">- </span><span class="nv">y</span> <span class="mi">1</span><span class="p">))))))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">* </span><span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">multi-iter</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span>
</pre></div>
</div>
</div>

<div id="outline-container-org595423c" class="outline-4">
<h4 id="org595423c">1.19</h4>
<div class="outline-text-4" id="text-org595423c">
<div class="highlight"><pre><span></span>     <span class="c1">;; 证明跳过</span>
</pre></div>
</div>
</div>
</div>

<div id="outline-container-orgaad2daf" class="outline-3">
<h3 id="orgaad2daf">最大公约数</h3>
<div class="outline-text-3" id="text-orgaad2daf">
<ol class="org-ol">
<li>求最大公约数的欧几里得算法及实现，计算步骤对数增长。</li>
</ol>
</div>
</div>

<div id="outline-container-orgeebe77f" class="outline-3">
<h3 id="orgeebe77f">练习 1.20</h3>
<div class="outline-text-3" id="text-orgeebe77f">
</div>
<div id="outline-container-org415a586" class="outline-4">
<h4 id="org415a586">1.20</h4>
<div class="outline-text-4" id="text-org415a586">
<div class="highlight"><pre><span></span>    <span class="c1">;; 正则序</span>
    <span class="c1">;; &lt;predicate&gt; 部分 10 次，&lt;alternative&gt; 部分 4 + 4 = 8次，一共18次；</span>
    <span class="c1">;; 应用序</span>
    <span class="c1">;; 一共4次</span>
</pre></div>
</div>
</div>
</div>

<div id="outline-container-orgaad3f72" class="outline-3">
<h3 id="orgaad3f72">实例：素数检测</h3>
<div class="outline-text-3" id="text-orgaad3f72">
<ol class="org-ol">
<li>费马检查做素数检测的代码实现是一种概率方法。</li>
</ol>
</div>
</div>

<div id="outline-container-org7df31a9" class="outline-3">
<h3 id="org7df31a9">练习 1.21-1.28</h3>
<div class="outline-text-3" id="text-org7df31a9">
</div>
<div id="outline-container-orgc38ce05" class="outline-4">
<h4 id="orgc38ce05">1.21</h4>
<div class="outline-text-4" id="text-orgc38ce05">
<div class="highlight"><pre><span></span>     <span class="c1">;; 199</span>
     <span class="c1">;; 1999</span>
     <span class="c1">;; 7</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgaf7944e" class="outline-4">
<h4 id="orgaf7944e">1.22</h4>
<div class="outline-text-4" id="text-orgaf7944e">
<div class="highlight"><pre><span></span>     <span class="c1">;; (search-for-primes 1000)....1000 10000 10000 太小了, 打印出来的时间消耗几乎为0。</span>
     <span class="c1">;; (search-for-primes 1e10) 时间消耗大概是 1e9 的3倍， 差不多是 (sqrt 10)。</span>
     <span class="c1">;; 所以可以推断出程序在机器上的运行时间正比于计算所需的步数，是线性增长的。</span>
</pre></div>
</div>
</div>

<div id="outline-container-orga336f9c" class="outline-4">
<h4 id="orga336f9c">1.23</h4>
<div class="outline-text-4" id="text-orga336f9c">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">next</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="nv">n</span> <span class="mi">2</span><span class="p">)</span>
	   <span class="p">(</span><span class="nb">+ </span><span class="nv">n</span> <span class="mi">1</span><span class="p">)</span>
	   <span class="p">(</span><span class="nb">+ </span><span class="nv">n</span> <span class="mi">2</span><span class="p">)))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">smallest-divisor</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nf">find-divisor</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">find-divisor</span> <span class="nv">n</span> <span class="nv">test-divisor</span><span class="p">)</span>
       <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="nb">&gt; </span><span class="p">(</span><span class="nf">square</span> <span class="nv">test-divisor</span><span class="p">)</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">n</span><span class="p">)</span>
	     <span class="p">((</span><span class="nf">divides?</span> <span class="nv">test-divisor</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">test-divisor</span><span class="p">)</span>
	     <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nf">find-divisor</span> <span class="nv">n</span> <span class="p">(</span><span class="nf">next</span> <span class="nv">test-divisor</span><span class="p">)))))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">divides?</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nb">remainder </span><span class="nv">b</span> <span class="nv">a</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>

     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">prime?</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">= </span><span class="nv">n</span> <span class="p">(</span><span class="nf">smallest-divisor</span> <span class="nv">n</span><span class="p">)))</span>

     <span class="c1">;; timed-prime-test 和书上一致</span>

     <span class="c1">;; 修改之前的运算时间大概是修改之后的1.5倍，而不是2倍，</span>
     <span class="c1">;; 为什么?</span>
     <span class="c1">;; 官方回答: 主要是 因为 next 过程里的 if 检测：修改之后确实使检查步数减少一半，</span>
     <span class="c1">;; 但却要多额外处理 next 过程中的 if 检测。</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgba12a78" class="outline-4">
<h4 id="orgba12a78">1.24</h4>
<div class="outline-text-4" id="text-orgba12a78">
<div class="highlight"><pre><span></span>     <span class="c1">;; 改动就是将 prime? 过程的调用换成 fast-prime? 的的调用；</span>
     <span class="c1">;; 对 1e24 的计算时间占用大概是 1e12 的2倍，符合预期。</span>
</pre></div>
</div>
</div>

<div id="outline-container-org4af32a0" class="outline-4">
<h4 id="org4af32a0">1.25</h4>
<div class="outline-text-4" id="text-org4af32a0">
<div class="highlight"><pre><span></span>     <span class="c1">;; 直接使用 fast-expt 当然可以计算出一样的结果，但是它会产生大量的中间数据使计算</span>
     <span class="c1">;; 过程效率降低。</span>
</pre></div>
</div>
</div>

<div id="outline-container-org7ebcc31" class="outline-4">
<h4 id="org7ebcc31">1.26</h4>
<div class="outline-text-4" id="text-org7ebcc31">
<div class="highlight"><pre><span></span>     <span class="c1">;; 调用 square 过程时只需要对它的一个参数求值；</span>
     <span class="c1">;; 不使用 square 过程而是直接用显示乘法的话，乘法运算符的两个运算对象都需要求值；</span>
     <span class="c1">;; 使一个增长的阶为对数的计算过程变成线性的了。</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgba12466" class="outline-4">
<h4 id="orgba12466">1.27</h4>
<div class="outline-text-4" id="text-orgba12466">
<div class="highlight"><pre><span></span>     <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">full-fermat-test</span> <span class="nv">n</span><span class="p">)</span>
       <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">iter-test</span> <span class="nv">n</span> <span class="nv">a</span><span class="p">)</span>
	 <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt; </span><span class="nv">a</span> <span class="nv">n</span><span class="p">)</span>
	     <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">not </span> <span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">expmod</span> <span class="nv">a</span> <span class="nv">n</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">a</span><span class="p">))</span>
		 <span class="p">(</span><span class="nb">display </span><span class="s">"False"</span><span class="p">)</span>
		 <span class="p">(</span><span class="nf">iter-test</span> <span class="nv">n</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">a</span> <span class="mi">1</span><span class="p">)))</span>
	     <span class="p">(</span><span class="nb">display </span><span class="s">"True"</span><span class="p">)))</span>
       <span class="p">(</span><span class="nf">iter-test</span> <span class="nv">n</span> <span class="mi">2</span><span class="p">))</span>
       <span class="c1">;; 用 Carmichael 数调用该过程检查输出就可以了。</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgf9d41cf" class="outline-4">
<h4 id="orgf9d41cf">1.28</h4>
<div class="outline-text-4" id="text-orgf9d41cf">
<div class="highlight"><pre><span></span>     <span class="c1">;; 不知道是不是中文翻译的问题，题目很难完全理解；</span>
     <span class="c1">;; 实现的过程并不保证正确，需要参考的请去个人 github 主页查看源码。</span>
</pre></div>
</div>
</div>
</div>
</div>
            
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="https-zero4drift-github-io",
            disqus_url="https://zero4drift.github.io/posts/sicp-refresher-chapter-1%282%29/",
        disqus_title="SICP-Refresher-Chapter-1(2)",
        disqus_identifier="cache/posts/sicp-refresher-chapter-1(2).html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    


        </div>
    </div>

    
    <footer><div class="container">
            <div class="social">



                <div class="social-entry">
                    <a href="../../rss.xml" target="_blank">
                        <i class="fa fa-rss"></i> 
                    </a>
                </div>
            </div>
                <div class="copyright">
                    Contents © 2018         <a href="mailto:fang0052@e.ntu.edu.sg">zero4drift</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                    
                </div>
           
        </div>
    </footer><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?06e0ade16d98033ac1aad78106d873c8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script>
</body>
</html>
