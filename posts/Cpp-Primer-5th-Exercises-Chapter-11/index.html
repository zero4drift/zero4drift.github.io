<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Cpp Primer 5th chapter-11 Exercises">
<meta name="viewport" content="width=device-width">
<title>Cpp-Primer-5th-Exercises-Chapter-11 | Procrastination Prescription</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://zero4drift.github.io/posts/Cpp-Primer-5th-Exercises-Chapter-11/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="zero4drift">
<meta property="og:site_name" content="Procrastination Prescription">
<meta property="og:title" content="Cpp-Primer-5th-Exercises-Chapter-11">
<meta property="og:url" content="https://zero4drift.github.io/posts/Cpp-Primer-5th-Exercises-Chapter-11/">
<meta property="og:description" content="Cpp Primer 5th chapter-11 Exercises">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-06-09T14:39:39+08:00">
<meta property="article:tag" content="C++">
</head>
<body>
    

    <header id="header" class="navbar"><div class="container">
            
    <div class="brand">

        <div class="brand-text">
            <a href="https://zero4drift.github.io/" title="Procrastination Prescription" rel="home">
                Procrastination Prescription
            </a>
        </div>

        <a id="btn-toggle-nav" class="navbar-toggle">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
    </div>

            
    <nav class="navbar-collapse collapse"><ul class="nav">
<li><a href="../../archive.html">Archive</a></li>
                <li><a href="https://github.com/zero4drift">Github</a></li>
                <li><a href="../../categories/">Tags</a></li>
                <li><a href="../../rss.xml">RSS feed</a></li>
    
    
    </ul></nav>
</div>
    </header><div class="header-padding"> </div>

    
    <div class="post-header">
        <div class="container">
            <div class="title">
                Cpp-Primer-5th-Exercises-Chapter-11
            </div>
        </div>
    </div>

    <div class="post-meta">
      <div class="container">
	<div class="meta clearfix">
	  <div class="authordate">
	    <time class="timeago" datetime="2018-06-09T14:39:39+08:00">2018/06/09</time>
</div>
	  <div class="post-tags">
	    <div class="tag">
	      <a href="../../categories/c%2B%2B/" rel="tag">C++</a>
	    </div>
	  </div>
	</div>
      </div>
    </div>
    
    
    <div id="post-main" class="main">
        <div class="container">
        <div id="outline-container-org3f883dd" class="outline-2">
<h2 id="org3f883dd">Exercise 11.1</h2>
<div class="outline-text-2" id="text-org3f883dd">
<div class="highlight"><pre><span></span><span class="c1">// element of map type is key-value pair, in another word, value is associated with keyword and could be accessed through keyword, like map[keyword].</span>
<span class="c1">// element of vector contains one individual object, compared with map, could also access the element through style like vector[index], while index is an integer.</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgd32e22a" class="outline-2">
<h2 id="orgd32e22a">Exercise 11.2</h2>
<div class="outline-text-2" id="text-orgd32e22a">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// list: insert an element into a position which is not head or back. </span>
  <span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">li</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">};</span>
  <span class="n">li</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="o">++</span><span class="n">li</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="mi">3</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">list"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">i</span> <span class="p">:</span> <span class="n">li</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="c1">// vector: random access</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vi</span><span class="p">(</span><span class="n">li</span><span class="p">.</span><span class="n">cbegin</span><span class="p">(),</span> <span class="n">li</span><span class="p">.</span><span class="n">cend</span><span class="p">());</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">vector"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">vi</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="c1">// deque, insert or remove elements at head or back</span>
  <span class="n">deque</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">di</span><span class="p">(</span><span class="n">li</span><span class="p">.</span><span class="n">cbegin</span><span class="p">(),</span> <span class="n">li</span><span class="p">.</span><span class="n">cend</span><span class="p">());</span>
  <span class="n">di</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">deque"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">i</span> <span class="p">:</span> <span class="n">di</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="c1">// map, associated key-value pair</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">alphabegical</span><span class="p">;</span>
  <span class="n">alphabegical</span><span class="p">[</span><span class="s">"a"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">alphabegical</span><span class="p">[</span><span class="s">"b"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">map"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">w</span> <span class="p">:</span> <span class="n">alphabegical</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="c1">// set, filter keywords</span>
  <span class="n">set</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">ss</span> <span class="o">=</span> <span class="p">{</span><span class="s">"fuck"</span><span class="p">,</span> <span class="s">"shit"</span><span class="p">,</span> <span class="s">"asshole"</span><span class="p">,</span> <span class="s">"bullshit"</span><span class="p">};</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">set"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">s</span> <span class="p">:</span> <span class="n">ss</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org32c79bd" class="outline-2">
<h2 id="org32c79bd">Exercise 11.3</h2>
<div class="outline-text-2" id="text-org32c79bd">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">word_cound</span><span class="p">;</span>
  <span class="n">set</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">exclude</span> <span class="o">=</span> <span class="p">{</span><span class="s">"The"</span><span class="p">,</span> <span class="s">"But"</span><span class="p">,</span> <span class="s">"And"</span><span class="p">,</span> <span class="s">"Or"</span><span class="p">,</span> <span class="s">"An"</span><span class="p">,</span> <span class="s">"A"</span><span class="p">,</span>
		       <span class="s">"the"</span><span class="p">,</span> <span class="s">"but"</span><span class="p">,</span> <span class="s">"and"</span><span class="p">,</span> <span class="s">"or"</span><span class="p">,</span> <span class="s">"an"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">};</span>
  <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">exclude</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="n">exclude</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
      <span class="o">++</span><span class="n">word_cound</span><span class="p">[</span><span class="n">word</span><span class="p">];</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">w</span> <span class="p">:</span> <span class="n">word_cound</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" occurs "</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">second</span>
       <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="n">w</span><span class="p">.</span><span class="n">second</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="s">" times"</span> <span class="o">:</span> <span class="s">" time"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org442fe13" class="outline-2">
<h2 id="org442fe13">Exercise 11.4</h2>
<div class="outline-text-2" id="text-org442fe13">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">word_cound</span><span class="p">;</span>
  <span class="n">set</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">exclude</span> <span class="o">=</span> <span class="p">{</span><span class="s">"The"</span><span class="p">,</span> <span class="s">"But"</span><span class="p">,</span> <span class="s">"And"</span><span class="p">,</span> <span class="s">"Or"</span><span class="p">,</span> <span class="s">"An"</span><span class="p">,</span> <span class="s">"A"</span><span class="p">,</span>
		       <span class="s">"the"</span><span class="p">,</span> <span class="s">"but"</span><span class="p">,</span> <span class="s">"and"</span><span class="p">,</span> <span class="s">"or"</span><span class="p">,</span> <span class="s">"an"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">};</span>
  <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">exclude</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="n">exclude</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
      <span class="p">{</span>
      <span class="k">auto</span> <span class="n">first</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
      <span class="k">auto</span> <span class="n">last</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
      <span class="k">while</span><span class="p">(</span><span class="n">first</span> <span class="o">!=</span> <span class="n">last</span><span class="p">)</span>
	<span class="p">{</span>
	  <span class="k">if</span><span class="p">(</span><span class="n">isupper</span><span class="p">(</span><span class="o">*</span><span class="n">first</span><span class="p">))</span>
	    <span class="o">*</span><span class="n">first</span> <span class="o">=</span> <span class="n">tolower</span><span class="p">(</span><span class="o">*</span><span class="n">first</span><span class="p">);</span>
	  <span class="o">++</span><span class="n">first</span><span class="p">;</span>
	<span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="n">ispunct</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="o">--</span><span class="n">last</span><span class="p">)))</span> <span class="n">word</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
      <span class="o">++</span><span class="n">word_cound</span><span class="p">[</span><span class="n">word</span><span class="p">];</span>
      <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">w</span> <span class="p">:</span> <span class="n">word_cound</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" occurs "</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">second</span>
       <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="n">w</span><span class="p">.</span><span class="n">second</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="s">" times"</span> <span class="o">:</span> <span class="s">" time"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org0124ded" class="outline-2">
<h2 id="org0124ded">Exercise 11.5</h2>
<div class="outline-text-2" id="text-org0124ded">
<div class="highlight"><pre><span></span><span class="c1">// map&lt;keyword_type, value_type&gt;</span>
<span class="c1">// set&lt;keyword_type&gt;</span>
<span class="c1">// When there is a need to use key-value pair, map is preferred,</span>
<span class="c1">// else if a collection of keywords is desired, set is enough.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org98314e9" class="outline-2">
<h2 id="org98314e9">Exercise 11.6</h2>
<div class="outline-text-2" id="text-org98314e9">
<div class="highlight"><pre><span></span><span class="c1">// set: unique elements</span>
<span class="c1">// list: not unique elements</span>
<span class="c1">// When there is a need for a unique collection of keywords, set is preferred,</span>
<span class="c1">// else list is better.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org864a735" class="outline-2">
<h2 id="org864a735">Exercise 11.7</h2>
<div class="outline-text-2" id="text-org864a735">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span> <span class="n">family</span><span class="p">;</span>
  <span class="n">family</span><span class="p">[</span><span class="s">"Johnson"</span><span class="p">]</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">{</span><span class="s">"Tom"</span><span class="p">,</span> <span class="s">"jack"</span><span class="p">,</span> <span class="s">"Lily"</span><span class="p">};</span>
  <span class="n">family</span><span class="p">[</span><span class="s">"Johnson"</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="s">"Joe"</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p</span> <span class="p">:</span> <span class="n">family</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Family "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span>
	 <span class="o">&lt;&lt;</span> <span class="s">" Children's names "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">s</span> <span class="p">:</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org90e51ae" class="outline-2">
<h2 id="org90e51ae">Exercise 11.8</h2>
<div class="outline-text-2" id="text-org90e51ae">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">words</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">auto</span> <span class="n">iter</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">words</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">word</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="n">iter</span> <span class="o">==</span> <span class="n">words</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
      <span class="n">words</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">word</span><span class="p">);</span> 
    <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Unique words among inputs: "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">s</span> <span class="p">:</span> <span class="n">words</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// if using type set, program would be much easier, the type itself determines that there is no duplicated elements within, so just push word to set and omit checkwork would do the job for us.</span>
</pre></div>
</div>
</div>

<div id="outline-container-orge1a41aa" class="outline-2">
<h2 id="orge1a41aa">Exercise 11.9</h2>
<div class="outline-text-2" id="text-orge1a41aa">
<div class="highlight"><pre><span></span><span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">word_line_number</span><span class="p">;</span>
</pre></div>
</div>
</div>

<div id="outline-container-orge3c4f51" class="outline-2">
<h2 id="orge3c4f51">Exercise 11.10</h2>
<div class="outline-text-2" id="text-orge3c4f51">
<div class="highlight"><pre><span></span><span class="c1">// map&lt;vector&lt;int&gt;::iterator, int&gt; is ok, for that vector&lt;int&gt;::iterator supports relationship operators like &lt;, &lt;=;</span>
<span class="c1">// while map&lt;list&lt;int&gt;::iterator, int&gt; is impossible, for that list&lt;int&gt;::iterator just supports relationship operators of == and !=.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org916a2d2" class="outline-2">
<h2 id="org916a2d2">Exercise 11.11</h2>
<div class="outline-text-2" id="text-org916a2d2">
<div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="nf">compareIsbn</span><span class="p">(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">lhs</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="n">rhs</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">lhs</span><span class="p">.</span><span class="n">isbn</span><span class="p">()</span><span class="n">f</span> <span class="o">&lt;</span> <span class="n">rhs</span><span class="p">.</span><span class="n">isbn</span><span class="p">();</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">multiset</span><span class="o">&lt;</span><span class="n">Sales_data</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">Sales_data</span> <span class="o">&amp;</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">bookstore</span><span class="p">(</span><span class="n">compareIsbn</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org713b8dc" class="outline-2">
<h2 id="org713b8dc">Exercise 11.12</h2>
<div class="outline-text-2" id="text-org713b8dc">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="p">{</span><span class="s">"hello"</span><span class="p">,</span> <span class="s">"world"</span><span class="p">};</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vi</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">};</span>
  <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">vp</span><span class="p">;</span>
  <span class="k">auto</span> <span class="n">vs_begin</span> <span class="o">=</span> <span class="n">vs</span><span class="p">.</span><span class="n">cbegin</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">vi_begin</span> <span class="o">=</span> <span class="n">vi</span><span class="p">.</span><span class="n">cbegin</span><span class="p">();</span>
  <span class="k">while</span><span class="p">(</span><span class="n">vs_begin</span> <span class="o">!=</span> <span class="n">vs</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">vi_begin</span> <span class="o">!=</span> <span class="n">vi</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
    <span class="p">{</span>
      <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">=</span> <span class="o">*</span><span class="n">vs_begin</span><span class="p">;</span>
      <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">=</span> <span class="o">*</span><span class="n">vi_begin</span><span class="p">;</span>
      <span class="n">vp</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
      <span class="o">++</span><span class="n">vs_begin</span><span class="p">;</span>
      <span class="o">++</span><span class="n">vi_begin</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p</span> <span class="p">:</span> <span class="n">vp</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"First "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" second "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgfe93307" class="outline-2">
<h2 id="orgfe93307">Exercise 11.13</h2>
<div class="outline-text-2" id="text-orgfe93307">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">vs</span> <span class="o">=</span> <span class="p">{</span><span class="s">"hello"</span><span class="p">,</span> <span class="s">"world"</span><span class="p">};</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vi</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">};</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">vp</span><span class="p">;</span>
  <span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">;</span>
  <span class="k">auto</span> <span class="n">vs_begin</span> <span class="o">=</span> <span class="n">vs</span><span class="p">.</span><span class="n">cbegin</span><span class="p">();</span>
  <span class="k">auto</span> <span class="n">vi_begin</span> <span class="o">=</span> <span class="n">vi</span><span class="p">.</span><span class="n">cbegin</span><span class="p">();</span>
  <span class="k">while</span><span class="p">(</span><span class="n">vs_begin</span> <span class="o">!=</span> <span class="n">vs</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">vi_begin</span> <span class="o">!=</span> <span class="n">vi</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
    <span class="p">{</span>
      <span class="c1">// first way is illustrated in 11.12.cpp</span>
      <span class="c1">// second way</span>
      <span class="c1">// p = make_pair(*vs_begin, *vi_begin); </span>
      <span class="c1">// third way</span>
      <span class="c1">// p = {*vs_begin, *vi_begin};</span>
      <span class="c1">// fourth way: best</span>
      <span class="c1">// easier to write and understand</span>
      <span class="n">vp</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="o">*</span><span class="n">vs_begin</span><span class="p">,</span> <span class="o">*</span><span class="n">vi_begin</span><span class="p">);</span>
      <span class="c1">// vp.push_back(p);</span>
      <span class="o">++</span><span class="n">vs_begin</span><span class="p">;</span>
      <span class="o">++</span><span class="n">vi_begin</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p</span> <span class="p">:</span> <span class="n">vp</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"First "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" second "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgf7b25b2" class="outline-2">
<h2 id="orgf7b25b2">Exercise 11.14</h2>
<div class="outline-text-2" id="text-orgf7b25b2">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">unsigned</span><span class="o">&gt;&gt;&gt;</span> <span class="n">family</span><span class="p">;</span>
  <span class="n">family</span><span class="p">[</span><span class="s">"Johnson"</span><span class="p">]</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">unsigned</span><span class="o">&gt;&gt;</span>
    <span class="p">{{</span><span class="s">"Tom"</span><span class="p">,</span> <span class="mi">19990712</span><span class="p">},</span>
     <span class="p">{</span><span class="s">"jack"</span><span class="p">,</span> <span class="mi">20040918</span><span class="p">},</span>
     <span class="p">{</span><span class="s">"Lily"</span><span class="p">,</span> <span class="mi">20061123</span><span class="p">}};</span>
  <span class="n">family</span><span class="p">[</span><span class="s">"Johnson"</span><span class="p">].</span><span class="n">emplace_back</span><span class="p">(</span><span class="s">"Joe"</span><span class="p">,</span> <span class="mi">20100830</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p</span> <span class="p">:</span> <span class="n">family</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Family "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span>
	 <span class="o">&lt;&lt;</span> <span class="s">" Children's names "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p2</span> <span class="p">:</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">)</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p2</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" birthday "</span> <span class="o">&lt;&lt;</span> <span class="n">p2</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgf81a1f2" class="outline-2">
<h2 id="orgf81a1f2">Exercise 11.15</h2>
<div class="outline-text-2" id="text-orgf81a1f2">
<div class="highlight"><pre><span></span><span class="c1">// map&lt;int, vector&lt;int&gt;&gt;</span>
<span class="c1">// mapped_type: vector&lt;int&gt;</span>
<span class="c1">// key_type: int</span>
<span class="c1">// value_type: pair&lt;const int, vector&lt;int&gt;&gt;</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgcd80a90" class="outline-2">
<h2 id="orgcd80a90">Exercise 11.16</h2>
<div class="outline-text-2" id="text-orgcd80a90">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">sample</span> <span class="o">=</span> <span class="p">{{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}};</span>
  <span class="k">auto</span> <span class="n">beg</span> <span class="o">=</span> <span class="n">sample</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">beg</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">beg</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">beg</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">beg</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">beg</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org5d7e6a3" class="outline-2">
<h2 id="org5d7e6a3">Exercise 11.17</h2>
<div class="outline-text-2" id="text-org5d7e6a3">
<div class="highlight"><pre><span></span><span class="c1">// c: multiset&lt;string&gt;</span>
<span class="c1">// v: vector&lt;string&gt;</span>
<span class="c1">// copy(v.begin(), v.end(), inserter(c, c.end()))</span>
<span class="c1">// copy elements of v to c, with same order</span>
<span class="c1">// copy(v.begin(), v.end(), back_inserter(c))</span>
<span class="c1">// illegal, multiset does not support push_back</span>
<span class="c1">// copy(c.begin(), c.end(), inserter(v. v.end()))</span>
<span class="c1">// copy elements of c to v, with same order</span>
<span class="c1">// copy(c.begin(), c.end(), back_inserter(v))</span>
<span class="c1">// copy elements of c to v, with same order</span>
</pre></div>
</div>
</div>

<div id="outline-container-org7c1f5f2" class="outline-2">
<h2 id="org7c1f5f2">Exercise 11.18</h2>
<div class="outline-text-2" id="text-org7c1f5f2">
<div class="highlight"><pre><span></span><span class="c1">// P382 type of map_it</span>
<span class="c1">// map&lt;string, size_t&gt;::const_iterator</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgb5e1d9d" class="outline-2">
<h2 id="orgb5e1d9d">Exercise 11.19</h2>
<div class="outline-text-2" id="text-orgb5e1d9d">
<div class="highlight"><pre><span></span><span class="c1">// multiset&lt;Sales_data, decltype(comapreIsbn)*&gt; bookstore(compareIsbn);</span>
<span class="c1">// multiset&lt;Sales_data, bool (*)(const Sales_data &amp;, const Sales_data &amp;)&gt;::iterator iter = bookstore.begin();</span>
</pre></div>
</div>
</div>

<div id="outline-container-org0167950" class="outline-2">
<h2 id="org0167950">Exercise 11.20</h2>
<div class="outline-text-2" id="text-org0167950">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">word_cound</span><span class="p">;</span>
  <span class="n">set</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">exclude</span> <span class="o">=</span> <span class="p">{</span><span class="s">"The"</span><span class="p">,</span> <span class="s">"But"</span><span class="p">,</span> <span class="s">"And"</span><span class="p">,</span> <span class="s">"Or"</span><span class="p">,</span> <span class="s">"An"</span><span class="p">,</span> <span class="s">"A"</span><span class="p">,</span>
		       <span class="s">"the"</span><span class="p">,</span> <span class="s">"but"</span><span class="p">,</span> <span class="s">"and"</span><span class="p">,</span> <span class="s">"or"</span><span class="p">,</span> <span class="s">"an"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">};</span>
  <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">exclude</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="n">exclude</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
      <span class="p">{</span>
      <span class="k">auto</span> <span class="n">first</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
      <span class="k">auto</span> <span class="n">last</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
      <span class="k">while</span><span class="p">(</span><span class="n">first</span> <span class="o">!=</span> <span class="n">last</span><span class="p">)</span>
	<span class="p">{</span>
	  <span class="k">if</span><span class="p">(</span><span class="n">isupper</span><span class="p">(</span><span class="o">*</span><span class="n">first</span><span class="p">))</span>
	    <span class="o">*</span><span class="n">first</span> <span class="o">=</span> <span class="n">tolower</span><span class="p">(</span><span class="o">*</span><span class="n">first</span><span class="p">);</span>
	  <span class="o">++</span><span class="n">first</span><span class="p">;</span>
	<span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="n">ispunct</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="o">--</span><span class="n">last</span><span class="p">)))</span> <span class="n">word</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
      <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">word_cound</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="n">word</span><span class="p">,</span> <span class="mi">1</span><span class="p">});</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">)</span>
	<span class="o">++</span><span class="n">p</span><span class="p">.</span><span class="n">first</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span>
      <span class="c1">// the original one is better </span>
      <span class="c1">// this version more operators and expressions</span>
      <span class="c1">// original is simpler and easier.</span>
      <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">w</span> <span class="p">:</span> <span class="n">word_cound</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" occurs "</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">second</span>
       <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="n">w</span><span class="p">.</span><span class="n">second</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="s">" times"</span> <span class="o">:</span> <span class="s">" time"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgbb634bc" class="outline-2">
<h2 id="orgbb634bc">Exercise 11.21</h2>
<div class="outline-text-2" id="text-orgbb634bc">
<div class="highlight"><pre><span></span><span class="c1">// map&lt;string, size_t&gt; word_count</span>
<span class="c1">// string word</span>
<span class="c1">// while(cin &gt;&gt; word) ++word_count.insert({word, 0}).first-&gt;second;</span>
<span class="c1">// see the privileges of operators in P147</span>
<span class="c1">// while(cin &gt;&gt; word) ++((((word_count.insert)({word, 0})).first)-&gt;second)</span>
</pre></div>
</div>
</div>

<div id="outline-container-orga51b6d8" class="outline-2">
<h2 id="orga51b6d8">Exercise 11.22</h2>
<div class="outline-text-2" id="text-orga51b6d8">
<div class="highlight"><pre><span></span><span class="c1">// pair&lt;map&lt;string, vector&lt;int&gt;&gt;::iterator, bool&gt; sample = map&lt;string, vector&lt;int&gt;&gt; map_sample.insert(pair&lt;string, vector&lt;int&gt;&gt;)</span>
</pre></div>
</div>
</div>

<div id="outline-container-org7722261" class="outline-2">
<h2 id="org7722261">Exercise 11.23</h2>
<div class="outline-text-2" id="text-org7722261">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">family</span><span class="p">;</span>
  <span class="c1">// family.insert({{"Johnson", "Tom"}, {"Johnson", "Jack"}});</span>
  <span class="n">family</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"Johnson"</span><span class="p">,</span> <span class="s">"Tom"</span><span class="p">});</span>
  <span class="n">family</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"Johnson"</span><span class="p">,</span> <span class="s">"Jack"</span><span class="p">});</span>
  <span class="n">family</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"Johnson"</span><span class="p">,</span> <span class="s">"Lily"</span><span class="p">});</span>
  <span class="n">family</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="s">"Johnson"</span><span class="p">,</span> <span class="s">"Joe"</span><span class="p">});</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p</span> <span class="p">:</span> <span class="n">family</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Family "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span>
	 <span class="o">&lt;&lt;</span> <span class="s">" Children's names "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org9213d6f" class="outline-2">
<h2 id="org9213d6f">Exercise 11.24</h2>
<div class="outline-text-2" id="text-org9213d6f">
<div class="highlight"><pre><span></span><span class="c1">// map&lt;int, int&gt; m;</span>
<span class="c1">// m[0] = 1;</span>
<span class="c1">// add a new element of pair&lt;int, int&gt;(0, 1) to m of type map&lt;int, int&gt;.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org2915212" class="outline-2">
<h2 id="org2915212">Exercise 11.25</h2>
<div class="outline-text-2" id="text-org2915212">
<div class="highlight"><pre><span></span><span class="c1">// vector&lt;int&gt; v;</span>
<span class="c1">// v[0] = 1;</span>
<span class="c1">// illegal, there is no element in v of type vector&lt;int&gt;</span>
<span class="c1">// for vector, trying to access a non-exist element is forbidden.</span>
<span class="c1">// that is an 'out of range' error.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org273bac1" class="outline-2">
<h2 id="org273bac1">Exercise 11.26</h2>
<div class="outline-text-2" id="text-org273bac1">
<div class="highlight"><pre><span></span><span class="c1">// map&lt;string, int&gt; m</span>
<span class="c1">// string index;</span>
<span class="c1">// int &amp;i = m[index]</span>
</pre></div>
</div>
</div>

<div id="outline-container-org3f41760" class="outline-2">
<h2 id="org3f41760">Exercise 11.27</h2>
<div class="outline-text-2" id="text-org3f41760">
<div class="highlight"><pre><span></span><span class="c1">// c.count(k): try to determine the amount of keyword in container c, if c is a multiset or a multimap</span>
<span class="c1">// c.find(k): try to determine the existence of keyword in container c, but not intend to modify c.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org99b29ca" class="outline-2">
<h2 id="org99b29ca">Exercise 11.28</h2>
<div class="outline-text-2" id="text-org99b29ca">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;::</span><span class="n">iterator</span> <span class="n">iter</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"exist"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org3b52cdf" class="outline-2">
<h2 id="org3b52cdf">Exercise 11.29</h2>
<div class="outline-text-2" id="text-org3b52cdf">
<div class="highlight"><pre><span></span><span class="c1">// if keywoed not cotained in cotainer c:</span>
<span class="c1">// c.upper_bound(k): returns an iterator which points to the first element whose keyword is larger than k; if k is larger than any keyword in c, returns an end off iterator of c.</span>
<span class="c1">// c.lower_bound(k): same sa c.upper_bound(k) in that suitation.</span>
<span class="c1">// c.equal_range(k): returns a pair whose first is same as c.lower_bound() illustrated above, and the second is same as c.upper_bound() illustrated above.</span>
</pre></div>
</div>
</div>

<div id="outline-container-orgd45289d" class="outline-2">
<h2 id="orgd45289d">Exercise 11.30</h2>
<div class="outline-text-2" id="text-orgd45289d">
<div class="highlight"><pre><span></span><span class="c1">// pos.first-&gt;second</span>
<span class="c1">// equals to:</span>
<span class="c1">// (pos.first)-&gt;second</span>
<span class="c1">// and also:</span>
<span class="c1">// (*(pos.first)).second</span>
<span class="c1">// pos: pair&lt;map&lt;string, string&gt;::iterator, map&lt;string, string&gt;::iterator&gt;</span>
<span class="c1">// pos.first: map&lt;string, string&gt;::iterator</span>
<span class="c1">// *(pos.first): map&lt;string, string&gt;::value_type</span>
<span class="c1">// (*(pos.first)).second: map&lt;string, string&gt;::mapped_type</span>
</pre></div>
</div>
</div>

<div id="outline-container-org5b031ad" class="outline-2">
<h2 id="org5b031ad">Exercise 11.31</h2>
<div class="outline-text-2" id="text-org5b031ad">
<div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">safe_erase</span><span class="p">(</span><span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">authors</span><span class="p">,</span> <span class="n">string</span> <span class="n">author</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">iter</span><span class="p">;</span>
  <span class="k">while</span><span class="p">((</span><span class="n">iter</span> <span class="o">=</span> <span class="n">authors</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">author</span><span class="p">))</span> <span class="o">!=</span> <span class="n">authors</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
    <span class="n">authors</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">iter</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">authors</span> <span class="o">=</span><span class="p">{{</span><span class="s">"tom"</span><span class="p">,</span> <span class="s">"abc"</span><span class="p">},</span> <span class="p">{</span><span class="s">"tom"</span><span class="p">,</span> <span class="s">"ddd"</span><span class="p">},</span> <span class="p">{</span><span class="s">"jack"</span><span class="p">,</span> <span class="s">"cde"</span><span class="p">},</span> <span class="p">{</span><span class="s">"levis"</span><span class="p">,</span> <span class="s">"ddd"</span><span class="p">},</span> <span class="p">{</span><span class="s">"jane"</span><span class="p">,</span> <span class="s">"eee"</span><span class="p">}};</span>
  <span class="n">safe_erase</span><span class="p">(</span><span class="n">authors</span><span class="p">,</span> <span class="s">"tom"</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">p</span> <span class="p">:</span> <span class="n">authors</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-orge35a6c1" class="outline-2">
<h2 id="orge35a6c1">Exercise 11.32</h2>
<div class="outline-text-2" id="text-orge35a6c1">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">multimap</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">authors</span> <span class="o">=</span>
    <span class="p">{{</span><span class="s">"tom"</span><span class="p">,</span> <span class="s">"abc"</span><span class="p">},</span>
     <span class="p">{</span><span class="s">"tom"</span><span class="p">,</span> <span class="s">"bde"</span><span class="p">},</span>
     <span class="p">{</span><span class="s">"jack"</span><span class="p">,</span> <span class="s">"cde"</span><span class="p">},</span>
     <span class="p">{</span><span class="s">"levis"</span><span class="p">,</span> <span class="s">"ddd"</span><span class="p">},</span>
     <span class="p">{</span><span class="s">"jane"</span><span class="p">,</span> <span class="s">"eee"</span><span class="p">}};</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">multiset</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span> <span class="n">order_authors</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">author</span> <span class="p">:</span> <span class="n">authors</span><span class="p">)</span>
    <span class="n">order_authors</span><span class="p">[</span><span class="n">author</span><span class="p">.</span><span class="n">first</span><span class="p">].</span><span class="n">insert</span><span class="p">(</span><span class="n">author</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">author</span> <span class="p">:</span> <span class="n">order_authors</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">author</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">": "</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">work</span> <span class="p">:</span> <span class="n">author</span><span class="p">.</span><span class="n">second</span><span class="p">)</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">work</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org1c78fac" class="outline-2">
<h2 id="org1c78fac">Exercise 11.33</h2>
<div class="outline-text-2" id="text-org1c78fac">
<div class="highlight"><pre><span></span><span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">buildMap</span><span class="p">(</span><span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">map_file</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">trans_map</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">map_file</span> <span class="o">&gt;&gt;</span> <span class="n">key</span> <span class="o">&amp;&amp;</span> <span class="n">getline</span><span class="p">(</span><span class="n">map_file</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">trans_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="k">else</span>
      <span class="k">throw</span> <span class="nf">runtime_error</span><span class="p">(</span><span class="s">"no rule for "</span> <span class="o">+</span> <span class="n">key</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="k">return</span> <span class="n">trans_map</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">transform</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">auto</span> <span class="n">map_it</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="n">map_it</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">cend</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">map_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">word_transfrom</span><span class="p">(</span><span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">map_file</span><span class="p">,</span> <span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">auto</span> <span class="n">trans_map</span> <span class="o">=</span> <span class="n">buildMap</span><span class="p">(</span><span class="n">map_file</span><span class="p">);</span>
  <span class="n">string</span> <span class="n">text</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="n">istringstream</span> <span class="n">stream</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
      <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
      <span class="kt">bool</span> <span class="n">firstword</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
      <span class="k">while</span><span class="p">(</span><span class="n">stream</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
      <span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">firstword</span><span class="p">)</span> <span class="n">firstword</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">transform</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">trans_map</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">argc</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="k">auto</span> <span class="n">map_file</span> <span class="o">=</span> <span class="n">ifstream</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
  <span class="k">auto</span> <span class="n">input</span> <span class="o">=</span> <span class="n">ifstream</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
  <span class="n">word_transfrom</span><span class="p">(</span><span class="n">map_file</span><span class="p">,</span> <span class="n">input</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org8315548" class="outline-2">
<h2 id="org8315548">Exercise 11.34</h2>
<div class="outline-text-2" id="text-org8315548">
<div class="highlight"><pre><span></span><span class="c1">// illegal, won't compile.</span>
<span class="c1">// a const map does not support subscript operator.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org7762eff" class="outline-2">
<h2 id="org7762eff">Exercise 11.35</h2>
<div class="outline-text-2" id="text-org7762eff">
<div class="highlight"><pre><span></span><span class="c1">// if that key already contained in trans_map, this expression does nothing,</span>
<span class="c1">// the specified new element is not inserted to trans_map, the most first one with same keyword is not replaced.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org4a47ae1" class="outline-2">
<h2 id="org4a47ae1">Exercise 11.36</h2>
<div class="outline-text-2" id="text-org4a47ae1">
<div class="highlight"><pre><span></span><span class="c1">// This would cause runtime_error</span>
<span class="c1">// outputs:</span>
<span class="c1">// terminate called after throwing an instance of 'std::runtime_error'</span>
<span class="c1">// what(): no rule for pic</span>
</pre></div>
</div>
</div>

<div id="outline-container-org18d30c1" class="outline-2">
<h2 id="org18d30c1">Exercise 11.37</h2>
<div class="outline-text-2" id="text-org18d30c1">
<div class="highlight"><pre><span></span><span class="c1">// advantages of unordered associative container:</span>
<span class="c1">// useful when the order of elements could not be arranged;</span>
<span class="c1">// sometimes the cost of maintaining order of elements in ordered associative container is really high.</span>
<span class="c1">// advantages of ordered associative container:</span>
<span class="c1">// elements in an order in a straight way, user-friendly;</span>
<span class="c1">// convenient to apply self defined type as keyword type in an ordered associative container.</span>
</pre></div>
</div>
</div>

<div id="outline-container-org45e7e89" class="outline-2">
<h2 id="org45e7e89">Exercise 11.38a</h2>
<div class="outline-text-2" id="text-org45e7e89">
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">word_cound</span><span class="p">;</span>
  <span class="n">set</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">exclude</span> <span class="o">=</span> <span class="p">{</span><span class="s">"The"</span><span class="p">,</span> <span class="s">"But"</span><span class="p">,</span> <span class="s">"And"</span><span class="p">,</span> <span class="s">"Or"</span><span class="p">,</span> <span class="s">"An"</span><span class="p">,</span> <span class="s">"A"</span><span class="p">,</span>
			 <span class="s">"the"</span><span class="p">,</span> <span class="s">"but"</span><span class="p">,</span> <span class="s">"and"</span><span class="p">,</span> <span class="s">"or"</span><span class="p">,</span> <span class="s">"an"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">};</span>
  <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">exclude</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">==</span> <span class="n">exclude</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
      <span class="o">++</span><span class="n">word_cound</span><span class="p">[</span><span class="n">word</span><span class="p">];</span>
  <span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span><span class="nl">w</span> <span class="p">:</span> <span class="n">word_cound</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="s">" occurs "</span> <span class="o">&lt;&lt;</span> <span class="n">w</span><span class="p">.</span><span class="n">second</span>
	 <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="n">w</span><span class="p">.</span><span class="n">second</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="s">" times"</span> <span class="o">:</span> <span class="s">" time"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>

<div id="outline-container-org30c5392" class="outline-2">
<h2 id="org30c5392">Exercise 11.38b</h2>
<div class="outline-text-2" id="text-org30c5392">
<div class="highlight"><pre><span></span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">buildMap</span><span class="p">(</span><span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">map_file</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">trans_map</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">map_file</span> <span class="o">&gt;&gt;</span> <span class="n">key</span> <span class="o">&amp;&amp;</span> <span class="n">getline</span><span class="p">(</span><span class="n">map_file</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
	<span class="n">trans_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="k">else</span>
	<span class="k">throw</span> <span class="nf">runtime_error</span><span class="p">(</span><span class="s">"no rule for "</span> <span class="o">+</span> <span class="n">key</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="k">return</span> <span class="n">trans_map</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">transform</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">auto</span> <span class="n">map_it</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="n">map_it</span> <span class="o">!=</span> <span class="n">m</span><span class="p">.</span><span class="n">cend</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">map_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">word_transfrom</span><span class="p">(</span><span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">map_file</span><span class="p">,</span> <span class="n">ifstream</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">auto</span> <span class="n">trans_map</span> <span class="o">=</span> <span class="n">buildMap</span><span class="p">(</span><span class="n">map_file</span><span class="p">);</span>
  <span class="n">string</span> <span class="n">text</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="n">istringstream</span> <span class="n">stream</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
      <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
      <span class="kt">bool</span> <span class="n">firstword</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
      <span class="k">while</span><span class="p">(</span><span class="n">stream</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span>
	<span class="p">{</span>
	  <span class="k">if</span><span class="p">(</span><span class="n">firstword</span><span class="p">)</span> <span class="n">firstword</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	  <span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
	  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">transform</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">trans_map</span><span class="p">);</span>
	<span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">argc</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="k">auto</span> <span class="n">map_file</span> <span class="o">=</span> <span class="n">ifstream</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
  <span class="k">auto</span> <span class="n">input</span> <span class="o">=</span> <span class="n">ifstream</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
  <span class="n">word_transfrom</span><span class="p">(</span><span class="n">map_file</span><span class="p">,</span> <span class="n">input</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
            
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="https-zero4drift-github-io",
            disqus_url="https://zero4drift.github.io/posts/Cpp-Primer-5th-Exercises-Chapter-11/",
        disqus_title="Cpp-Primer-5th-Exercises-Chapter-11",
        disqus_identifier="cache/posts/Cpp-Primer-5th-Exercises-Chapter-11.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        
    


        </div>
    </div>

    
    <footer><div class="container">
            <div class="social">



                <div class="social-entry">
                    <a href="../../rss.xml" target="_blank">
                        <i class="fa fa-rss"></i> 
                    </a>
                </div>
            </div>
                <div class="copyright">
                    Contents © 2018         <a href="mailto:fang0052@e.ntu.edu.sg">zero4drift</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                    
                </div>
           
        </div>
    </footer><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?06e0ade16d98033ac1aad78106d873c8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script>
</body>
</html>
